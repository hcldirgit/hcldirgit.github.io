<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>失落的乐章</title>

  <!-- keywords -->
  

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="失落的乐章的Blog">
<meta property="og:type" content="website">
<meta property="og:title" content="失落的乐章">
<meta property="og:url" content="https://hcldirgit.github.io/page/42/index.html">
<meta property="og:site_name" content="失落的乐章">
<meta property="og:description" content="失落的乐章的Blog">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="失落的乐章">
<meta name="twitter:description" content="失落的乐章的Blog">
  
    <link rel="alternative" href="/atom.xml" title="失落的乐章" type="application/atom+xml">
  
  
    <link rel="icon" href="https://hcldirgit.github.io/images/0.png">
  
  <link rel="stylesheet" href="/css/style.css">
  
  
<!-- Google Analytics -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-85415703-1', 'auto');
  ga('send', 'pageview');

</script>
<!-- End Google Analytics -->


  <script src="//cdn.bootcss.com/require.js/2.3.2/require.min.js"></script>
  <script src="//cdn.bootcss.com/jquery/3.1.1/jquery.min.js"></script>

  
</head>
<body>
  <div id="container">
    <div id="particles-js"></div>
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			<img lazy-src="https://hcldirgit.github.io/images/0.png" class="js-avatar">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">失落的乐章</a></h1>
		</hgroup>

		
		<p class="header-subtitle">技术面前，永远都是学生。</p>
		

		
			<div class="switch-btn">
				<div class="icon">
					<div class="icon-ctn">
						<div class="icon-wrap icon-house" data-idx="0">
							<div class="birdhouse"></div>
							<div class="birdhouse_holes"></div>
						</div>
						<div class="icon-wrap icon-ribbon hide" data-idx="1">
							<div class="ribbon"></div>
						</div>
						
						
					</div>
					
				</div>
				<div class="tips-box hide">
					<div class="tips-arrow"></div>
					<ul class="tips-inner">
						<li>菜单</li>
						<li>标签</li>
						
						
					</ul>
				</div>
			</div>
		

		<div class="switch-area">
			<div class="switch-wrap">
				<section class="switch-part switch-part1">
					<nav class="header-menu">
						<ul>
						
							<li><a href="/">主页</a></li>
				        
							<li><a href="/archives">所有文章</a></li>
				        
						</ul>
					</nav>
					<nav class="header-nav">
						<div class="social">
							
						</div>
					</nav>
				</section>
				
				
				<section class="switch-part switch-part2">
					<div class="widget tagcloud" id="js-tagcloud">
						<a href="/tags/Ansible/" style="font-size: 10.42px;">Ansible</a> <a href="/tags/Apache/" style="font-size: 18.33px;">Apache</a> <a href="/tags/Cacti/" style="font-size: 11.67px;">Cacti</a> <a href="/tags/DNS/" style="font-size: 13.33px;">DNS</a> <a href="/tags/Docker/" style="font-size: 10px;">Docker</a> <a href="/tags/FTP/" style="font-size: 11.25px;">FTP</a> <a href="/tags/Git/" style="font-size: 10.83px;">Git</a> <a href="/tags/HA集群/" style="font-size: 11.67px;">HA集群</a> <a href="/tags/Hadoop/" style="font-size: 12.5px;">Hadoop</a> <a href="/tags/Jenkins/" style="font-size: 10.42px;">Jenkins</a> <a href="/tags/LAMP/" style="font-size: 19.58px;">LAMP</a> <a href="/tags/LNMP/" style="font-size: 17.08px;">LNMP</a> <a href="/tags/LVS/" style="font-size: 16.67px;">LVS</a> <a href="/tags/Linux/" style="font-size: 19.17px;">Linux</a> <a href="/tags/Linux命令/" style="font-size: 20px;">Linux命令</a> <a href="/tags/Linux安全/" style="font-size: 14.17px;">Linux安全</a> <a href="/tags/Memcached/" style="font-size: 11.25px;">Memcached</a> <a href="/tags/MongoDB/" style="font-size: 15.42px;">MongoDB</a> <a href="/tags/MySQL/" style="font-size: 17.5px;">MySQL</a> <a href="/tags/NFS/" style="font-size: 10px;">NFS</a> <a href="/tags/Nagios/" style="font-size: 11.67px;">Nagios</a> <a href="/tags/Nginx/" style="font-size: 17.92px;">Nginx</a> <a href="/tags/OpenStack/" style="font-size: 11.25px;">OpenStack</a> <a href="/tags/Php/" style="font-size: 14.58px;">Php</a> <a href="/tags/Puppet/" style="font-size: 11.25px;">Puppet</a> <a href="/tags/Python/" style="font-size: 14.58px;">Python</a> <a href="/tags/Redis/" style="font-size: 16.25px;">Redis</a> <a href="/tags/Resin/" style="font-size: 10px;">Resin</a> <a href="/tags/Saltstack/" style="font-size: 10px;">Saltstack</a> <a href="/tags/Samba/" style="font-size: 12.08px;">Samba</a> <a href="/tags/Squid/" style="font-size: 14.58px;">Squid</a> <a href="/tags/Tomcat/" style="font-size: 13.75px;">Tomcat</a> <a href="/tags/Zabbix/" style="font-size: 15.83px;">Zabbix</a> <a href="/tags/haproxy/" style="font-size: 12.5px;">haproxy</a> <a href="/tags/keepalived/" style="font-size: 12.92px;">keepalived</a> <a href="/tags/shell/" style="font-size: 15px;">shell</a> <a href="/tags/shell练习/" style="font-size: 18.75px;">shell练习</a> <a href="/tags/正则表达式/" style="font-size: 12.92px;">正则表达式</a>
					</div>
				</section>
				
				
				

				
			</div>
		</div>
	</header>				
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"></div>
  		<h1 class="header-author js-mobile-header hide">失落的乐章</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				<img lazy-src="https://hcldirgit.github.io/images/0.png" class="js-avatar">
			</div>
			<hgroup>
			  <h1 class="header-author">失落的乐章</h1>
			</hgroup>
			
			<p class="header-subtitle">技术面前，永远都是学生。</p>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">主页</a></li>
		        
					<li><a href="/archives">所有文章</a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
				</div>
			</nav>
		</header>				
	</div>
</nav>
      <div class="body-wrap">
  
    <article id="post-2. Linux 命令/16. Linux 命令- which" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2017/09/03/2. Linux 命令/16. Linux 命令- which/" class="article-date">
  	<time datetime="2017-09-02T17:57:34.302Z" itemprop="datePublished">2017-09-03</time>
</a>
    </div>
  
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/09/03/2. Linux 命令/16. Linux 命令- which/">
        Linux 命令- which
        
      </a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;我们经常在linux要查找某个文件，但不知道放在哪里了，可以使用下面的一些命令来搜索：     </p>
<ul>
<li>which  查看可执行文件的位置。</li>
<li>whereis 查看文件的位置。 </li>
<li>locate   配合数据库查看文件位置。</li>
<li>find   实际搜寻硬盘查询文件名称。</li>
</ul>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;which命令的作用是，在PATH变量指定的路径中，搜索某个系统命令的位置，并且返回第一个搜索结果。也就是说，使用which命令，就可以看到某个系统命令是否存在，以及执行的到底是哪一个位置的命令。 </p>
<h2 id="1-命令格式"><a href="#1-命令格式" class="headerlink" title="1.命令格式"></a>1.命令格式</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">which</span> [可执行文件名称]</div></pre></td></tr></table></figure>
<h2 id="2-命令功能"><a href="#2-命令功能" class="headerlink" title="2.命令功能"></a>2.命令功能</h2><p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;which 指令会在 PATH 变量指定的路径中，搜索某个系统命令的位置，并且返回第一个搜索结果。</p>
<h2 id="3-命令参数"><a href="#3-命令参数" class="headerlink" title="3.命令参数"></a>3.命令参数</h2><ul>
<li>-n:指定文件名长度，指定的长度必须大于或等于所有文件中最长的文件名。</li>
<li>-p：与 -n 参数相同，但此处的抱愧了文件的路径。</li>
<li>-w：指定输出时栏位的宽度。</li>
<li>-V：显示版本信息。</li>
</ul>
<h2 id="4-使用实例"><a href="#4-使用实例" class="headerlink" title="4.使用实例"></a>4.使用实例</h2><h3 id="实例1：查找文件、显示命令路径"><a href="#实例1：查找文件、显示命令路径" class="headerlink" title="实例1：查找文件、显示命令路径"></a>实例1：查找文件、显示命令路径</h3><p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>命令</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">which</span> lsmod</div></pre></td></tr></table></figure>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>输出</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">[root@localhost ~]<span class="comment"># which pwd</span></div><div class="line">/bin/<span class="built_in">pwd</span></div><div class="line">[root@localhost ~]<span class="comment">#  which adduser</span></div><div class="line">/usr/sbin/adduser</div><div class="line">[root@localhost ~]<span class="comment">#</span></div></pre></td></tr></table></figure>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>说明</strong></p>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;which 是根据使用者所配置的 PATH 变量内的目录去搜索可运行档的！所以，不同的 PATH 配置内容所找到的命令当然不一样！</p>
<h3 id="实例2：用-which-去找出-which"><a href="#实例2：用-which-去找出-which" class="headerlink" title="实例2：用 which 去找出 which"></a>实例2：用 which 去找出 which</h3><p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>命令</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">which</span> <span class="built_in">which</span></div></pre></td></tr></table></figure>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>输出</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">[root@localhost ~]<span class="comment"># which which</span></div><div class="line"><span class="built_in">alias</span> <span class="built_in">which</span>=<span class="string">'alias | /usr/bin/which --tty-only --read-alias --show-dot 	--show-tilde'</span></div><div class="line">     /usr/bin/<span class="built_in">which</span></div><div class="line">[root@localhost ~]<span class="comment">#</span></div></pre></td></tr></table></figure>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>说明</strong></p>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;竟然会有两个 which ，其中一个是 alias 就是所谓的 “命令别名”，意思是输入 which 会等于后面接的那串命令！</p>
<h3 id="实例3：找出-cd-这个命令"><a href="#实例3：找出-cd-这个命令" class="headerlink" title="实例3：找出 cd 这个命令"></a>实例3：找出 cd 这个命令</h3><p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>命令</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">which</span> <span class="built_in">cd</span></div></pre></td></tr></table></figure>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>输出</strong>    </p>
<p><img src="https://github.com/hcldirgit/image/blob/master/which/01.png?raw=true" alt="image">   </p>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>说明</strong></p>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;cd 这个常用的命令竟然找不到。为什么呢？这是因为 cd 是 bash 内建的命令！但是 which 默认是找 PATH 内所规范的目录，所以一定找不到的！</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Linux命令/">Linux命令</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
      
    
  </div>
  
</article>







  
    <article id="post-2. Linux 命令/14. Linux 命令- head" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2017/09/03/2. Linux 命令/14. Linux 命令- head/" class="article-date">
  	<time datetime="2017-09-02T17:57:34.301Z" itemprop="datePublished">2017-09-03</time>
</a>
    </div>
  
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/09/03/2. Linux 命令/14. Linux 命令- head/">
        Linux 命令- head
        
      </a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;head 与 tail 就像它的名字一样的浅显易懂，它是用来显示开头或结尾某个数量的文字区块， head 用来显示档案的开头至标准输出中，而 tail 想当然就是看档案的结尾。</p>
<h2 id="命令格式"><a href="#命令格式" class="headerlink" title="命令格式"></a>命令格式</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">head [参数] [文件]</div></pre></td></tr></table></figure>
<h2 id="命令功能"><a href="#命令功能" class="headerlink" title="命令功能"></a>命令功能</h2><p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;head 用来显示档案的开头至标准输出中，默认 head 命令打印其相应文件的开头10行。</p>
<h2 id="命令参数"><a href="#命令参数" class="headerlink" title="命令参数"></a>命令参数</h2><ul>
<li>-q 隐藏文件名     </li>
<li>-v 显示文件名</li>
<li>-c&lt;字节&gt; 显示字节数</li>
<li>-n&lt;行数&gt; 显示的行数</li>
</ul>
<h2 id="使用实例"><a href="#使用实例" class="headerlink" title="使用实例"></a>使用实例</h2><h3 id="实例1：显示文件的前-n-行"><a href="#实例1：显示文件的前-n-行" class="headerlink" title="实例1：显示文件的前 n 行"></a>实例1：显示文件的前 n 行</h3><p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>命令</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">head -n 5 log2014.log</div></pre></td></tr></table></figure>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>输出</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">[root@localhost <span class="built_in">test</span>]<span class="comment"># cat log2014.log </span></div><div class="line">2014-01</div><div class="line">2014-02</div><div class="line">2014-03</div><div class="line">2014-04</div><div class="line">2014-05</div><div class="line">2014-06</div><div class="line">2014-07</div><div class="line">2014-08</div><div class="line">2014-09</div><div class="line">2014-10</div><div class="line">2014-11</div><div class="line">2014-12</div><div class="line">==============================</div><div class="line">[root@localhost <span class="built_in">test</span>]<span class="comment"># head -n 5 log2014.log </span></div><div class="line">2014-01</div><div class="line">2014-02</div><div class="line">2014-03</div><div class="line">2014-04</div><div class="line">2014-05[root@localhost <span class="built_in">test</span>]<span class="comment">#</span></div></pre></td></tr></table></figure>
<h2 id="实例2：显示文件前-n-个字节"><a href="#实例2：显示文件前-n-个字节" class="headerlink" title="实例2：显示文件前 n 个字节"></a>实例2：显示文件前 n 个字节</h2><p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>命令</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">head -c 20 log2014.log</div></pre></td></tr></table></figure>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>输出</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">[root@localhost <span class="built_in">test</span>]<span class="comment"># head -c 20 log2014.log</span></div><div class="line">2014-01</div><div class="line">2014-02</div><div class="line">2014</div><div class="line">[root@localhost <span class="built_in">test</span>]<span class="comment">#</span></div></pre></td></tr></table></figure>
<h3 id="实例3：文件的除了最后-n-个字节意外的内容"><a href="#实例3：文件的除了最后-n-个字节意外的内容" class="headerlink" title="实例3：文件的除了最后 n 个字节意外的内容"></a>实例3：文件的除了最后 n 个字节意外的内容</h3><p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>命令</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">head -c -32 log2014.log</div></pre></td></tr></table></figure>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>输出</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">[root@localhost <span class="built_in">test</span>]<span class="comment"># head -c -32 log2014.log</span></div><div class="line">2014-01</div><div class="line">2014-02</div><div class="line">2014-03</div><div class="line">2014-04</div><div class="line">2014-05</div><div class="line">2014-06</div><div class="line">2014-07</div><div class="line">2014-08</div><div class="line">2014-09</div><div class="line">2014-10</div><div class="line">2014-11</div><div class="line">2014-12</div><div class="line">[root@localhost <span class="built_in">test</span>]<span class="comment">#</span></div></pre></td></tr></table></figure>
<h3 id="实例4：输出文件除了最后-n-行的全部内容"><a href="#实例4：输出文件除了最后-n-行的全部内容" class="headerlink" title="实例4：输出文件除了最后 n 行的全部内容"></a>实例4：输出文件除了最后 n 行的全部内容</h3><p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>命令</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">head -n -6 log2014.log</div></pre></td></tr></table></figure>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>输出</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">[root@localhost <span class="built_in">test</span>]<span class="comment"># head -n -6 log2014.log</span></div><div class="line">2014-01</div><div class="line">2014-02</div><div class="line">2014-03</div><div class="line">2014-04</div><div class="line">2014-05</div><div class="line">2014-06</div><div class="line">2014-07</div><div class="line">[root@localhost <span class="built_in">test</span>]<span class="comment">#</span></div></pre></td></tr></table></figure>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Linux命令/">Linux命令</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
      
    
  </div>
  
</article>







  
    <article id="post-2. Linux 命令/23. Linux 目录结构" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2017/09/03/2. Linux 命令/23. Linux 目录结构/" class="article-date">
  	<time datetime="2017-09-02T17:57:34.300Z" itemprop="datePublished">2017-09-03</time>
</a>
    </div>
  
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/09/03/2. Linux 命令/23. Linux 目录结构/">
        Linux 目录结构
        
      </a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;对于每一个Linux学习者来说，了解Linux文件系统的目录结构，是学好Linux的至关重要的一步.，深入了解linux文件目录结构的标准和每个目录的详细功能，对于我们用好linux系统只管重要，下面我们就开始了解一下linux目录结构的相关知识。</p>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;当在使用Linux的时候，如果您通过ls –l / 就会发现，在/下包涵很多的目录，比如etc、usr、var、bin … … 等目录，而在这些目录中，我们进去看看，发现也有很多的目录或文件。文件系统在Linux下看上去就象树形结构，所以我们可以把文件系统的结构形象的称为 树形结构。</p>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;文件系统的是用来组织和排列文件存取的，所以她是可见的，在Linux中，我们可以通过ls等工具来查看其结构，在Linux系统中，我们见到的都是树形结构；比如操作系统安装在一个文件系统中，他表现为由/ 起始的树形结构。linux文件系统的最顶端是/，我们称/为Linux的root，也就是 Linux操作系统的文件系统。Linux的文件系统的入口就是/，所有的目录、文件、设备都在/之下，/就是Linux文件系统的组织者，也是最上级的领导者。</p>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;由于linux是开放源代码，各大公司和团体根据linux的核心代码做各自的操作，编程。这样就造成在根下的目录的不同。这样就造成个人不能使用他人的linux系统的PC。因为你根本不知道一些基本的配置，文件在哪里。。。这就造成了混乱。这就是FHS（Filesystem Hierarchy Standard ）机构诞生的原因。该机构是linux爱好者自发的组成的一个团体，主要是是对linux做一些基本的要求，不至于是操作者换一台主机就成了linux的‘文盲’。</p>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;根据<a href="http://www.pathname.com/fhs/" target="_blank" rel="external">FHS</a>的官方文件指出， 他们的主要目的是希望让使用者可以了解到已安装软件通常放置于那个目录下， 所以他们希望独立的软件开发商、操作系统制作者、以及想要维护系统的用户，都能够遵循FHS的标准。 也就是说，FHS的重点在于规范每个特定的目录下应该要放置什么样子的数据而已。 这样做好处非常多，因为Linux操作系统就能够在既有的面貌下(目录架构不变)发展出开发者想要的独特风格。</p>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;事实上，FHS是根据过去的经验一直再持续的改版的，FHS依据文件系统使用的频繁与否与是否允许使用者随意更动， 而将目录定义成为四种交互作用的形态，用表格来说有点像底下这样：</p>
<table>
<thead>
<tr>
<th style="text-align:left">&#160;</th>
<th style="text-align:left">可分享的（shareable）</th>
<th style="text-align:left">不可分享的（unshareables）</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">不变的（static）</td>
<td style="text-align:left">/usr(软件放置处）</td>
<td style="text-align:left">/etc（配置文件）</td>
</tr>
<tr>
<td style="text-align:left">&#160;</td>
<td style="text-align:left">/opt(第三方协力软件)</td>
<td style="text-align:left">/boot（开机与核心档）</td>
</tr>
<tr>
<td style="text-align:left">可变动的（variable）</td>
<td style="text-align:left">/var/mail（使用者邮件信箱）</td>
<td style="text-align:left">/var/run（程序相关）</td>
</tr>
<tr>
<td style="text-align:left">&#160;</td>
<td style="text-align:left">/var/spool/news（新闻组）</td>
<td style="text-align:left">/var/lock（程序相关）</td>
</tr>
</tbody>
</table>
<h2 id="四种类型"><a href="#四种类型" class="headerlink" title="四种类型"></a>四种类型</h2><h3 id="1-可分享的"><a href="#1-可分享的" class="headerlink" title="1.可分享的"></a>1.可分享的</h3><p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;可以分享给其他系统挂载的目录，所以包括执行文件与用户的邮件等数据，是能够分享给网络上其他主机挂载用的目录；</p>
<h3 id="2-不可分享的"><a href="#2-不可分享的" class="headerlink" title="2.不可分享的"></a>2.不可分享的</h3><p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;自己机器上面运作的装置文件或者是与程序有关的 socket 文件等，由于仅与自身机器有关，所以当然就不合适分享给其他主机了。</p>
<h3 id="3-不变的"><a href="#3-不变的" class="headerlink" title="3.不变的"></a>3.不变的</h3><p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;有些数据是不回经常变动的，跟随着 distribution 而不变动。例如函式库、文件说明文件、系统管理员所管理的主机服务配置文件等等；</p>
<h3 id="4-可变动的"><a href="#4-可变动的" class="headerlink" title="4.可变动的"></a>4.可变动的</h3><p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;经常改变的数据，例如登录文件、一般用户可自行收受的新闻组等。</p>
<hr>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;事实上，FHS 针对目录树架构仅定义出三层目录底下应该放置什么数据而已，分别是底下这三个目录的定义：</p>
<h2 id="root-根目录-：与开机系统有关；-usr-unix-software-resource-：与软件安装-执行有关；-var-variable-：与系统运作过程有关。"><a href="#root-根目录-：与开机系统有关；-usr-unix-software-resource-：与软件安装-执行有关；-var-variable-：与系统运作过程有关。" class="headerlink" title="/ (root, 根目录)：与开机系统有关；/usr (unix software resource)：与软件安装/执行有关；/var (variable)：与系统运作过程有关。"></a>/ (root, 根目录)：与开机系统有关；/usr (unix software resource)：与软件安装/执行有关；/var (variable)：与系统运作过程有关。</h2><h3 id="一、根目录（-）的意义与内容"><a href="#一、根目录（-）的意义与内容" class="headerlink" title="一、根目录（/）的意义与内容"></a>一、根目录（/）的意义与内容</h3><p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;根目录是整个系统最重要的一个目录，因为不但所有的目录都是由根目录衍生出来的， 同时根目录也与开机/还原/系统修复等动作有关。 由于系统开机时需要特定的开机软件、核心文件、开机所需程序、 函式库等等文件数据，若系统出现错误时，根目录也必须要包含有能够修复文件系统的程序才行。 因为根目录是这么的重要，所以在FHS的要求方面，他希望根目录不要放在非常大的分区， 因为越大的分区内你会放入越多的数据，如此一来根目录所在分区就可能会有较多发生错误的机会。</p>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;因此FHS标准建议：根目录(/)所在分区应该越小越好， 且应用程序所安装的软件最好不要与根目录放在同一个分区内，保持根目录越小越好。 如此不但效能较佳，根目录所在的文件系统也较不容易发生问题。<strong>说白了，就是根目录和Windows的C盘一个样。</strong></p>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;根据以上原因，FHS认为根目录(/)下应该包含如下子目录：</p>
<table>
<thead>
<tr>
<th style="text-align:left">目录</th>
<th style="text-align:left">应防止档案内容</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">/bin</td>
<td style="text-align:left">系统有很多放置执行档的目录，但/bin比较特殊。因为/bin放置的是在单人维护模式下还能够被操作的指令。在/bin底下的指令可以被root与一般帐号所使用，主要有：cat,chmod(修改权限), chown, date, mv, mkdir, cp, bash等等常用的指令。</td>
</tr>
<tr>
<td style="text-align:left">/boot</td>
<td style="text-align:left">主要放置开机会使用到的档案，包括Linux核心档案以及开机选单与开机所需设定档等等。Linux kernel常用的档名为：vmlinuz ，如果使用的是grub这个开机管理程式，则还会存在/boot/grub/这个目录。</td>
</tr>
<tr>
<td style="text-align:left">/dev</td>
<td style="text-align:left">在Linux系统上，任何装置与周边设备都是以档案的型态存在于这个目录当中。 只要通过存取这个目录下的某个档案，就等于存取某个装置。比要重要的档案有/dev/null, /dev/zero, /dev/tty , /dev/lp<em>, / dev/hd</em>, /dev/sd*等等</td>
</tr>
<tr>
<td style="text-align:left">/etc</td>
<td style="text-align:left">系统主要的设定档几乎都放置在这个目录内，例如人员的帐号密码档、各种服务的启始档等等。 一般来说，这个目录下的各档案属性是可以让一般使用者查阅的，但是只有root有权力修改。 FHS建议不要放置可执行档(binary)在这个目录中。 比较重要的档案有：/etc/inittab, /etc/init.d/, /etc/modprobe.conf, /etc/X11/, /etc/fstab, /etc/sysconfig/等等。 另外，其下重要的目录有：/etc/init.d/ ：所有服务的预设启动script都是放在这里的，例如要启动或者关闭iptables的话： /etc/init.d/iptables start、/etc/init.d/ iptables stop/etc/xinetd.d/ ：这就是所谓的super daemon管理的各项服务的设定档目录。/etc/X11/ ：与X Window有关的各种设定档都在这里，尤其是xorg.conf或XF86Config这两个X Server的设定档。</td>
</tr>
<tr>
<td style="text-align:left">/home</td>
<td style="text-align:left">这是系统预设的使用者家目录(home directory)。 在你新增一个一般使用者帐号时，预设的使用者家目录都会规范到这里来。比较重要的是，家目录有两种代号： ~ ：代表当前使用者的家目录，而 ~guest：则代表用户名为guest的家目录。</td>
</tr>
<tr>
<td style="text-align:left">/lib</td>
<td style="text-align:left">系统的函式库非常的多，而/lib放置的则是在开机时会用到的函式库，以及在/bin或/sbin底下的指令会呼叫的函式库而已 。 什么是函式库呢？妳可以将他想成是外挂，某些指令必须要有这些外挂才能够顺利完成程式的执行之意。 尤其重要的是/lib/modules/这个目录，因为该目录会放置核心相关的模组(驱动程式)。</td>
</tr>
<tr>
<td style="text-align:left">/media</td>
<td style="text-align:left">media是媒体的英文，顾名思义，这个/media底下放置的就是可移除的装置。 包括软碟、光碟、DVD等等装置都暂时挂载于此。 常见的档名有：/media/floppy, /media/cdrom等等。</td>
</tr>
<tr>
<td style="text-align:left">/mnt</td>
<td style="text-align:left">如果妳想要暂时挂载某些额外的装置，一般建议妳可以放置到这个目录中。在古早时候，这个目录的用途与/media相同啦。 只是有了/media之后，这个目录就用来暂时挂载用了。</td>
</tr>
<tr>
<td style="text-align:left">/opt</td>
<td style="text-align:left">这个是给第三方协力软体放置的目录 。 什么是第三方协力软体啊？举例来说，KDE这个桌面管理系统是一个独立的计画，不过他可以安装到Linux系统中，因此KDE的软体就建议放置到此目录下了。 另外，如果妳想要自行安装额外的软体(非原本的distribution提供的)，那么也能够将你的软体安装到这里来。 不过，以前的Linux系统中，我们还是习惯放置在/usr/local目录下。</td>
</tr>
<tr>
<td style="text-align:left">/root</td>
<td style="text-align:left">系统管理员(root)的家目录。 之所以放在这里，是因为如果进入单人维护模式而仅挂载根目录时，该目录就能够拥有root的家目录，所以我们会希望root的家目录与根目录放置在同一个分区中。</td>
</tr>
<tr>
<td style="text-align:left">/sbin</td>
<td style="text-align:left">Linux有非常多指令是用来设定系统环境的，这些指令只有root才能够利用来设定系统，其他使用者最多只能用来查询而已。放在/sbin底下的为开机过程中所需要的，里面包括了开机、修复、还原系统所需要的指令。至于某些伺服器软体程式，一般则放置到/usr/sbin/当中。至于本机自行安装的软体所产生的系统执行档(system binary)，则放置到/usr/local/sbin/当中了。常见的指令包括：fdisk, fsck, ifconfig, init, mkfs等等。</td>
</tr>
<tr>
<td style="text-align:left">/srv</td>
<td style="text-align:left">srv可以视为service的缩写，是一些网路服务启动之后，这些服务所需要取用的资料目录。 常见的服务例如WWW, FTP等等。 举例来说，WWW伺服器需要的网页资料就可以放置在/srv/www/里面。呵呵，看来平时我们编写的代码应该放到这里了。</td>
</tr>
<tr>
<td style="text-align:left">/tmp</td>
<td style="text-align:left">这是让一般使用者或者是正在执行的程序暂时放置档案的地方。这个目录是任何人都能够存取的，所以你需要定期的清理一下。当然，重要资料不可放置在此目录啊。 因为FHS甚至建议在开机时，应该要将/tmp下的资料都删除。</td>
</tr>
</tbody>
</table>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;事实上 FHS 针对根目录所定义的标准就仅限于上表，不过仍旧有些目录也需要了解，具体如下：</p>
<table>
<thead>
<tr>
<th style="text-align:left">目录</th>
<th style="text-align:left">应放置文件内容</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">/lost + found</td>
<td style="text-align:left">这个目录是使用标准的ext2/ext3档案系统格式才会产生的一个目录，目的在于当档案系统发生错误时，将一些遗失的片段放置到这个目录下。 这个目录通常会在分割槽的最顶层存在，例如你加装一个硬盘于/disk中，那在这个系统下就会自动产生一个这样的目录/disk/lost+found</td>
</tr>
<tr>
<td style="text-align:left">/proc</td>
<td style="text-align:left">这个目录本身是一个虚拟文件系统(virtual filesystem)喔。 他放置的资料都是在内存当中，例如系统核心、行程资讯(process)（是进程吗?）、周边装置的状态及网络状态等等。因为这个目录下的资料都是在记忆体（内存）当中，所以本身不占任何硬盘空间。比较重要的档案（目录）例如： /proc/cpuinfo, /proc/dma, /proc/interrupts, /proc/ioports, /proc/net/*等等。呵呵，是虚拟内存吗[guest]？</td>
</tr>
<tr>
<td style="text-align:left">/sys</td>
<td style="text-align:left">这个目录其实跟/proc非常类似，也是一个虚拟的档案系统，主要也是记录与核心相关的资讯。 包括目前已载入的核心模组与核心侦测到的硬体装置资讯等等。 这个目录同样不占硬盘容量。</td>
</tr>
</tbody>
</table>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;除了这些目录的内容文件，另外要注意的是，因为根目录与开机有关，开机过程中仅有根目录会被挂载，其他分区则是在开机完成之后才会持续的进行挂载的行为。就是因为如此，因此根目录下与开机过程有关的目录，就不能够与根目录放到不同的分区去。哪些目录不可与根分区分开呢：</p>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;/etc：配置文件</p>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;/bin：重要执行档</p>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;/dev：所需要的装置文件</p>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;/lib：执行档所需的函式库与核心所需的模块</p>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;/sbin：重要的系统执行文件</p>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;这五个目录千万不可与根目录分开在不同的分区。</p>
<h3 id="二、-usr-的意义与内容"><a href="#二、-usr-的意义与内容" class="headerlink" title="二、/usr 的意义与内容"></a>二、/usr 的意义与内容</h3><p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;依据FHS的基本定义，/usr里面放置的数据属于可分享的与不可变动的(shareable, static)， 如果你知道如何透过网络进行分区的挂载(例如在服务器篇会谈到的NFS服务器)，那么/usr确实可以分享给局域网络内的其他主机来使用喔。</p>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;/usr不是user的缩写，其实usr是Unix Software Resource的缩写， 也就是Unix操作系统软件资源所放置的目录，而不是用户的数据啦。这点要注意。 FHS建议所有软件开发者，应该将他们的数据合理的分别放置到这个目录下的次目录，而不要自行建立该软件自己独立的目录。</p>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;因为是所有系统默认的软件(distribution发布者提供的软件)都会放置到/usr底下，因此这个目录有点类似Windows 系统的C:\Windows\ + C:\Program files\这两个目录的综合体，系统刚安装完毕时，这个目录会占用最多的硬盘容量。 一般来说，/usr的次目录建议有底下这些：</p>
<table>
<thead>
<tr>
<th>目录</th>
<th>应放置文件内容</th>
</tr>
</thead>
<tbody>
<tr>
<td>/usr/X11R6/</td>
<td>为X Window System重要数据所放置的目录，之所以取名为X11R6是因为最后的X版本为第11版，且该版的第6次释出之意。 </td>
</tr>
<tr>
<td>/usr/bin/</td>
<td>绝大部分的用户可使用指令都放在这里。请注意到他与/bin的不同之处。(是否与开机过程有关) </td>
</tr>
<tr>
<td>/usr/include/</td>
<td>c/c++等程序语言的档头(header)与包含档(include)放置处，当我们以tarball方式 (*.tar.gz 的方式安装软件)安装某些数据时，会使用到里头的许多包含档。 </td>
</tr>
<tr>
<td>/usr/lib/</td>
<td>包含各应用软件的函式库、目标文件(object file)，以及不被一般使用者惯用的执行档或脚本(script)。 某些软件会提供一些特殊的指令来进行服务器的设定，这些指令也不会经常被系统管理员操作， 那就会被摆放到这个目录下啦。要注意的是，如果你使用的是X86_64的Linux系统， 那可能会有/usr/lib64/目录产生 </td>
</tr>
<tr>
<td>/usr/local/</td>
<td>统管理员在本机自行安装自己下载的软件(非distribution默认提供者)，建议安装到此目录， 这样会比较便于管理。举例来说，你的distribution提供的软件较旧，你想安装较新的软件但又不想移除旧版， 此时你可以将新版软件安装于/usr/local/目录下，可与原先的旧版软件有分别啦。 你可以自行到/usr/local去看看，该目录下也是具有bin, etc, include, lib…的次目录 </td>
</tr>
<tr>
<td>/usr/sbin/</td>
<td>非系统正常运作所需要的系统指令。最常见的就是某些网络服务器软件的服务指令(daemon) </td>
</tr>
<tr>
<td>/usr/share/</td>
<td>放置共享文件的地方，在这个目录下放置的数据几乎是不分硬件架构均可读取的数据， 因为几乎都是文本文件嘛。在此目录下常见的还有这些次目录：/usr/share/man：联机帮助文件;/usr/share/doc：软件杂项的文件说明;/usr/share/zoneinfo：与时区有关的时区文件</td>
</tr>
<tr>
<td>/usr/src/</td>
<td>一般原始码建议放置到这里，src有source的意思。至于核心原始码则建议放置到/usr/src/linux/目录下。 </td>
</tr>
</tbody>
</table>
<h3 id="三、-var-的意义与内容"><a href="#三、-var-的意义与内容" class="headerlink" title="三、/var 的意义与内容"></a>三、/var 的意义与内容</h3><p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;如果/usr是安装时会占用较大硬盘容量的目录，那么/var就是在系统运作后才会渐渐占用硬盘容量的目录。 因为/var目录主要针对常态性变动的文件，包括缓存(cache)、登录档(log file)以及某些软件运作所产生的文件， 包括程序文件(lock file, run file)，或者例如MySQL数据库的文件等等。常见的次目录有：</p>
<table>
<thead>
<tr>
<th>目录</th>
<th>应放置文件内容</th>
</tr>
</thead>
<tbody>
<tr>
<td>/var/cache/</td>
<td>应用程序本身运作过程中会产生的一些暂存档</td>
</tr>
<tr>
<td>/var/lib/</td>
<td>程序本身执行的过程中，需要使用到的数据文件放置的目录。在此目录下各自的软件应该要有各自的目录。 举例来说，MySQL的数据库放置到/var/lib/mysql/而rpm的数据库则放到/var/lib/rpm去</td>
</tr>
<tr>
<td>/var/lock/</td>
<td>某些装置或者是文件资源一次只能被一个应用程序所使用，如果同时有两个程序使用该装置时， 就可能产生一些错误的状况，因此就得要将该装置上锁(lock)，以确保该装置只会给单一软件所使用。 举例来说，刻录机正在刻录一块光盘，你想一下，会不会有两个人同时在使用一个刻录机烧片？ 如果两个人同时刻录，那片子写入的是谁的数据？所以当第一个人在刻录时该刻录机就会被上锁， 第二个人就得要该装置被解除锁定(就是前一个人用完了)才能够继续使用</td>
</tr>
<tr>
<td>/var/log/</td>
<td>非常重要。这是登录文件放置的目录。里面比较重要的文件如/var/log/messages, /var/log/wtmp(记录登入者的信息)等。</td>
</tr>
<tr>
<td>/var/mail/</td>
<td>放置个人电子邮件信箱的目录，不过这个目录也被放置到/var/spool/mail/目录中，通常这两个目录是互为链接文件。</td>
</tr>
<tr>
<td>/var/run/</td>
<td>某些程序或者是服务启动后，会将他们的PID放置在这个目录下</td>
</tr>
<tr>
<td>/var/spool/</td>
<td>这个目录通常放置一些队列数据，所谓的“队列”就是排队等待其他程序使用的数据。 这些数据被使用后通常都会被删除。举例来说，系统收到新信会放置到/var/spool/mail/中， 但使用者收下该信件后该封信原则上就会被删除。信件如果暂时寄不出去会被放到/var/spool/mqueue/中， 等到被送出后就被删除。如果是工作排程数据(crontab)，就会被放置到/var/spool/cron/目录中。</td>
</tr>
</tbody>
</table>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;由于 FHS 仅是定义出最上层(/)及次层(/usr, /var)的目录内容应该要放置的文件或目录数据， 因此，在其他次目录层级内，就可以随开发者自行来配置了。</p>
<h3 id="四、目录树（directory-tree）"><a href="#四、目录树（directory-tree）" class="headerlink" title="四、目录树（directory tree）"></a>四、目录树（directory tree）</h3><p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;在Linux底下，所有的文件与目录都是由根目录开始的。那是所有目录与文件的源头, 然后再一个一个的分支下来，因此，我们也称这种目录配置方式为：目录树(directory tree), 这个目录树的主要特性有：</p>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;目录树的启始点为根目录 (/, root)；</p>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;每一个目录不止能使用本地端的 partition 的文件系统，也可以使用网络上的 filesystem 。举例来说， 可以利用 Network File System (NFS) 服务器挂载某特定目录等。</p>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;每一个文件在此目录树中的文件名(包含完整路径)都是独一无二的。</p>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;如果我们将整个目录树以图的方法来显示，并且将较为重要的文件数据列出来的话，那么目录树架构就如下图所示：</p>
<p><img src="https://github.com/hcldirgit/image/blob/master/linux%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84/01.png?raw=true" alt="image"></p>
<h3 id="五、绝对路径与相对路径"><a href="#五、绝对路径与相对路径" class="headerlink" title="五、绝对路径与相对路径"></a>五、绝对路径与相对路径</h3><p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;除了需要特别注意的FHS目录配置外，在文件名部分我们也要特别注意。因为根据档名写法的不同，也可将所谓的路径(path)定义为绝对路径(absolute)与相对路径(relative)。 这两种文件名/路径的写法依据是这样的：</p>
<h4 id="绝对路径："><a href="#绝对路径：" class="headerlink" title="绝对路径："></a>绝对路径：</h4><p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;由根目录(/)开始写起的文件名或目录名称， 例如 /home/dmtsai/.bashrc；</p>
<h4 id="相对路径："><a href="#相对路径：" class="headerlink" title="相对路径："></a>相对路径：</h4><p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;相对于目前路径的文件名写法。 例如 ./home/dmtsai 或 <a href="http://www.cnblogs.com/home/dmtsai/" target="_blank" rel="external">http://www.cnblogs.com/home/dmtsai/</a> 等等。反正开头不是 / 就属于相对路径的写法</p>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;而你必须要了解，相对路径是以你当前所在路径的相对位置来表示的。举例来说，你目前在 /home 这个目录下， 如果想要进入 /var/log 这个目录时，可以怎么写呢？</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">cd</span> /var/<span class="built_in">log</span>   (absolute)</div><div class="line"><span class="built_in">cd</span> ../var/<span class="built_in">log</span> (relative)</div></pre></td></tr></table></figure>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;因为你在 /home 底下，所以要回到上一层 (../) 之后，才能继续往 /var 来移动的，特别注意这两个特殊的目录：</p>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.  ：代表当前的目录，也可以使用 ./ 来表示；</p>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.. ：代表上一层目录，也可以 ../ 来代表。</p>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;这个 . 与 .. 目录概念是很重要的，你常常会看到 cd .. 或 ./command 之类的指令下达方式， 就是代表上一层与目前所在目录的工作状态。</p>
<h4 id="使用实例"><a href="#使用实例" class="headerlink" title="使用实例"></a>使用实例</h4><h5 id="实例1：如何先进入-var-spool-mail-目录，再进入到-var-spool-cron-目录内？"><a href="#实例1：如何先进入-var-spool-mail-目录，再进入到-var-spool-cron-目录内？" class="headerlink" title="实例1：如何先进入/var/spool/mail/目录，再进入到/var/spool/cron/目录内？"></a>实例1：如何先进入/var/spool/mail/目录，再进入到/var/spool/cron/目录内？</h5><p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>命令：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">cd</span> /var/spool/mail</div><div class="line"><span class="built_in">cd</span> ../cron</div></pre></td></tr></table></figure>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>说明：</strong></p>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;由于/var/spool/mail与/var/spool/cron是同样在/var/spool/目录中。如此就不需要在由根目录开始写起了。这个相对路径是非常有帮助的，尤其对于某些软件开发商来说。 一般来说，软件开发商会将数据放置到/usr/local/里面的各相对目录。 但如果用户想要安装到不同目录呢？就得要使用相对路径。</p>
<h5 id="实例2：网络文件常常提到类似-run-sh之类的数据，这个指令的意义为何？"><a href="#实例2：网络文件常常提到类似-run-sh之类的数据，这个指令的意义为何？" class="headerlink" title="实例2：网络文件常常提到类似./run.sh之类的数据，这个指令的意义为何？"></a>实例2：网络文件常常提到类似./run.sh之类的数据，这个指令的意义为何？</h5><p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>说明：</strong></p>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;由于指令的执行需要变量的支持，若你的执行文件放置在本目录，并且本目录并非正规的执行文件目录(/bin, /usr/bin等为正规)，此时要执行指令就得要严格指定该执行档。./代表本目录的意思，所以./run.sh代表执行本目录下， 名为run.sh的文件。</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Linux命令/">Linux命令</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
      
    
  </div>
  
</article>







  
    <article id="post-2. Linux 命令/21. find 命令之 xargs" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2017/09/03/2. Linux 命令/21. find 命令之 xargs/" class="article-date">
  	<time datetime="2017-09-02T17:57:34.299Z" itemprop="datePublished">2017-09-03</time>
</a>
    </div>
  
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/09/03/2. Linux 命令/21. find 命令之 xargs/">
        find 命令之 xargs
        
      </a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;在使用 find命令的-exec选项处理匹配到的文件时， find命令将所有匹配到的文件一起传递给exec执行。但有些系统对能够传递给exec的命令长度有限制，这样在find命令运行几分钟之后，就会出现溢出错误。错误信息通常是“参数列太长”或“参数列溢出”。这就是xargs命令的用处所在，特别是与find命令一起使用。</p>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;find命令把匹配到的文件传递给xargs命令，而xargs命令每次只获取一部分文件而不是全部，不像-exec选项那样。这样它可以先处理最先获取的一部分文件，然后是下一批，并如此继续下去。</p>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;在有些系统中，使用-exec选项会为处理每一个匹配到的文件而发起一个相应的进程，并非将匹配到的文件全部作为参数一次执行；这样在有些情况下就会出现进程过多，系统性能下降的问题，因而效率不高； 而使用xargs命令则只有一个进程。另外，在使用xargs命令时，究竟是一次获取所有的参数，还是分批取得参数，以及每一次获取参数的数目都会根据该命令的选项及系统内核中相应的可调参数来确定。</p>
<h2 id="使用实例"><a href="#使用实例" class="headerlink" title="使用实例"></a>使用实例</h2><h3 id="实例1：查找系统中的每一个普通文件，然后使用-xargs-命令来测试他们分别属于哪类文件"><a href="#实例1：查找系统中的每一个普通文件，然后使用-xargs-命令来测试他们分别属于哪类文件" class="headerlink" title="实例1：查找系统中的每一个普通文件，然后使用 xargs 命令来测试他们分别属于哪类文件"></a>实例1：查找系统中的每一个普通文件，然后使用 xargs 命令来测试他们分别属于哪类文件</h3><p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>命令</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">find . -<span class="built_in">type</span> f -<span class="built_in">print</span> | xargs file</div></pre></td></tr></table></figure>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>输出</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">[root@localhost <span class="built_in">test</span>]<span class="comment"># ll</span></div><div class="line">总计 312</div><div class="line">-rw-r--r-- 1 root root 302108 11-03 06:19 log2012.log</div><div class="line">-rw-r--r-- 1 root root      0 11-12 22:25 log2013.log</div><div class="line">-rw-r--r-- 1 root root      0 11-12 22:25 log2014.log</div><div class="line">drwxr-xr-x 6 root root   4096 10-27 01:58 scf</div><div class="line">drwxrwxrwx 2 root root   4096 11-12 19:32 test3</div><div class="line">drwxrwxrwx 2 root root   4096 11-12 19:32 test4</div><div class="line">[root@localhost <span class="built_in">test</span>]<span class="comment"># find . -type f -print | xargs file</span></div><div class="line">./log2014.log: empty</div><div class="line">./log2013.log: empty</div><div class="line">./log2012.log: ASCII text</div><div class="line">[root@localhost <span class="built_in">test</span>]<span class="comment">#</span></div></pre></td></tr></table></figure>
<h3 id="实例2：在整个系统中查找内存信息转储文件（core-dump），然后把结果保存到-tmp-core-log-文件中"><a href="#实例2：在整个系统中查找内存信息转储文件（core-dump），然后把结果保存到-tmp-core-log-文件中" class="headerlink" title="实例2：在整个系统中查找内存信息转储文件（core dump），然后把结果保存到 /tmp/core.log 文件中"></a>实例2：在整个系统中查找内存信息转储文件（core dump），然后把结果保存到 /tmp/core.log 文件中</h3><p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>命令</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">find / -name <span class="string">"core"</span> -<span class="built_in">print</span> | xargs <span class="built_in">echo</span> <span class="string">""</span> &gt; /tmp/core.log</div></pre></td></tr></table></figure>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>输出</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">[root@localhost <span class="built_in">test</span>]<span class="comment"># find / -name "core" -print | xargs echo "" &gt;/tmp/core.log</span></div><div class="line">[root@localhost <span class="built_in">test</span>]<span class="comment"># cd /tmp</span></div><div class="line">[root@localhost tmp]<span class="comment"># ll</span></div><div class="line">总计 16</div><div class="line">-rw-r--r-- 1 root root 1524 11-12 22:29 core.log</div><div class="line">drwx------ 2 root root 4096 11-12 22:24 ssh-TzcZDx1766</div><div class="line">drwx------ 2 root root 4096 11-12 22:28 ssh-ykiRPk1815</div><div class="line">drwx------ 2 root root 4096 11-03 07:11 vmware-root</div></pre></td></tr></table></figure>
<h3 id="实例3：在当前目录下查找所有用户具有读、写和执行权限的文件，并收回相应的写权限"><a href="#实例3：在当前目录下查找所有用户具有读、写和执行权限的文件，并收回相应的写权限" class="headerlink" title="实例3：在当前目录下查找所有用户具有读、写和执行权限的文件，并收回相应的写权限"></a>实例3：在当前目录下查找所有用户具有读、写和执行权限的文件，并收回相应的写权限</h3><p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>命令</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">find . -prem -7 -<span class="built_in">print</span> | xargs chmod 0-w</div></pre></td></tr></table></figure>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>输出</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">[root@localhost <span class="built_in">test</span>]<span class="comment"># ll</span></div><div class="line">总计 312</div><div class="line">-rw-r--r-- 1 root root 302108 11-03 06:19 log2012.log</div><div class="line">-rw-r--r-- 1 root root      0 11-12 22:25 log2013.log</div><div class="line">-rw-r--r-- 1 root root      0 11-12 22:25 log2014.log</div><div class="line">drwxr-xr-x 6 root root   4096 10-27 01:58 scf</div><div class="line">drwxrwxrwx 2 root root   4096 11-12 19:32 test3</div><div class="line">drwxrwxrwx 2 root root   4096 11-12 19:32 test4</div><div class="line">[root@localhost <span class="built_in">test</span>]<span class="comment"># find . -perm -7 -print | xargs chmod o-w</span></div><div class="line">[root@localhost <span class="built_in">test</span>]<span class="comment"># ll</span></div><div class="line">总计 312</div><div class="line">-rw-r--r-- 1 root root 302108 11-03 06:19 log2012.log</div><div class="line">-rw-r--r-- 1 root root      0 11-12 22:25 log2013.log</div><div class="line">-rw-r--r-- 1 root root      0 11-12 22:25 log2014.log</div><div class="line">drwxr-xr-x 6 root root   4096 10-27 01:58 scf</div><div class="line">drwxrwxr-x 2 root root   4096 11-12 19:32 test3</div><div class="line">drwxrwxr-x 2 root root   4096 11-12 19:32 test4</div><div class="line">[root@localhost <span class="built_in">test</span>]<span class="comment">#</span></div></pre></td></tr></table></figure>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>说明</strong><br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;执行命令后，文件夹 scf 、test3 和 test4 的权限都发生改变</p>
<h3 id="实例4：用-grep-命令在所有的普通文件中搜索-hostname-这个词"><a href="#实例4：用-grep-命令在所有的普通文件中搜索-hostname-这个词" class="headerlink" title="实例4：用 grep 命令在所有的普通文件中搜索 hostname 这个词"></a>实例4：用 grep 命令在所有的普通文件中搜索 hostname 这个词</h3><p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>命令</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">find . -<span class="built_in">type</span> f -<span class="built_in">print</span> | xargs grep <span class="string">"hostname"</span></div></pre></td></tr></table></figure>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>输出</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">[root@localhost <span class="built_in">test</span>]<span class="comment"># find . -type f -print | xargs grep "hostname"</span></div><div class="line">./log2013.log:hostnamebaidu=baidu.com</div><div class="line">./log2013.log:hostnamesina=sina.com</div><div class="line">./log2013.log:hostnames=<span class="literal">true</span></div><div class="line">[root@localhost <span class="built_in">test</span>]<span class="comment">#</span></div></pre></td></tr></table></figure>
<h3 id="实例5：用-grep-命令在当前目录下的所有普通文件中搜索-hostnames-这个词"><a href="#实例5：用-grep-命令在当前目录下的所有普通文件中搜索-hostnames-这个词" class="headerlink" title="实例5：用 grep 命令在当前目录下的所有普通文件中搜索 hostnames 这个词"></a>实例5：用 grep 命令在当前目录下的所有普通文件中搜索 hostnames 这个词</h3><p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>命令</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">find . -name \* -<span class="built_in">type</span> f -<span class="built_in">print</span> | xargs grep <span class="string">"hostnames"</span></div></pre></td></tr></table></figure>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>输出</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">[root@peida <span class="built_in">test</span>]<span class="comment"># find . -name \* -type f -print | xargs grep "hostnames"</span></div><div class="line">./log2013.log:hostnamesina=sina.com</div><div class="line">./log2013.log:hostnames=<span class="literal">true</span></div><div class="line">[root@localhost <span class="built_in">test</span>]<span class="comment">#</span></div></pre></td></tr></table></figure>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>说明</strong><br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;注意，在上例中， <code>\</code> 用来取消 find 命令中的 <code>*</code> 在 shell 中的特殊含义。</p>
<h3 id="实例6：使用-xargs-执行-mv"><a href="#实例6：使用-xargs-执行-mv" class="headerlink" title="实例6：使用 xargs 执行 mv"></a>实例6：使用 xargs 执行 mv</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">find . -name <span class="string">"*.log"</span> | xargs -i mv &#123;&#125; test4</div></pre></td></tr></table></figure>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>输出</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line">[root@localhost <span class="built_in">test</span>]<span class="comment"># ll</span></div><div class="line">总计 316</div><div class="line">-rw-r--r-- 1 root root 302108 11-03 06:19 log2012.log</div><div class="line">-rw-r--r-- 1 root root     61 11-12 22:44 log2013.log</div><div class="line">-rw-r--r-- 1 root root      0 11-12 22:25 log2014.log</div><div class="line">drwxr-xr-x 6 root root   4096 10-27 01:58 scf</div><div class="line">drwxrwxr-x 2 root root   4096 11-12 22:54 test3</div><div class="line">drwxrwxr-x 2 root root   4096 11-12 19:32 test4</div><div class="line">[root@localhost <span class="built_in">test</span>]<span class="comment"># cd test4/</span></div><div class="line">[root@localhost test4]<span class="comment"># ll</span></div><div class="line">总计 0[root@localhost test4]<span class="comment"># cd ..</span></div><div class="line">[root@localhost <span class="built_in">test</span>]<span class="comment"># find . -name "*.log" | xargs -i mv &#123;&#125; test4</span></div><div class="line">[root@localhost <span class="built_in">test</span>]<span class="comment"># ll</span></div><div class="line">总计 12drwxr-xr-x 6 root root 4096 10-27 01:58 scf</div><div class="line">drwxrwxr-x 2 root root 4096 11-13 05:50 test3</div><div class="line">drwxrwxr-x 2 root root 4096 11-13 05:50 test4</div><div class="line">[root@localhost <span class="built_in">test</span>]<span class="comment"># cd test4/</span></div><div class="line">[root@localhost test4]<span class="comment"># ll</span></div><div class="line">总计 304</div><div class="line">-rw-r--r-- 1 root root 302108 11-12 22:54 log2012.log</div><div class="line">-rw-r--r-- 1 root root     61 11-12 22:54 log2013.log</div><div class="line">-rw-r--r-- 1 root root      0 11-12 22:54 log2014.log</div><div class="line">[root@localhost test4]<span class="comment">#</span></div></pre></td></tr></table></figure>
<h3 id="实例7：find-后执行-xargs-提示-xargs：argument-line-too-long-解决方法"><a href="#实例7：find-后执行-xargs-提示-xargs：argument-line-too-long-解决方法" class="headerlink" title="实例7：find 后执行 xargs 提示 xargs：argument line too long 解决方法"></a>实例7：find 后执行 xargs 提示 xargs：argument line too long 解决方法</h3><p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>命令</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">find . -<span class="built_in">type</span> f -atime +0 -print0 | xargs -0 -11 -t rm -f</div></pre></td></tr></table></figure>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>输出</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">[root@pd test4]<span class="comment">#  find . -type f -atime +0 -print0 | xargs -0 -l1 -t rm -f</span></div><div class="line">rm -f </div><div class="line">[root@pdtest4]<span class="comment">#</span></div></pre></td></tr></table></figure>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>说明</strong></p>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;-11 是一次处理一个； -t 是处理之前打印出命令</p>
<h3 id="实例8：使用-i-参数默认的前面输出用-代替，-I-参数可以指定其他代替字符，如例子中的"><a href="#实例8：使用-i-参数默认的前面输出用-代替，-I-参数可以指定其他代替字符，如例子中的" class="headerlink" title="实例8：使用 -i 参数默认的前面输出用 {} 代替， -I 参数可以指定其他代替字符，如例子中的 []"></a>实例8：使用 -i 参数默认的前面输出用 {} 代替， -I 参数可以指定其他代替字符，如例子中的 []</h3><p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>命令</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">find . -name <span class="string">"file"</span> | xargs -I [] cp [] ..</div></pre></td></tr></table></figure>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>输出</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">[root@localhost <span class="built_in">test</span>]<span class="comment"># ll</span></div><div class="line">总计 12drwxr-xr-x 6 root root 4096 10-27 01:58 scf</div><div class="line">drwxrwxr-x 2 root root 4096 11-13 05:50 test3</div><div class="line">drwxrwxr-x 2 root root 4096 11-13 05:50 test4</div><div class="line">[root@localhost <span class="built_in">test</span>]<span class="comment"># cd test4</span></div><div class="line">[root@localhost test4]<span class="comment"># find . -name "file" | xargs -I [] cp [] ..</span></div><div class="line">[root@localhost test4]<span class="comment"># ll</span></div><div class="line">总计 304</div><div class="line">-rw-r--r-- 1 root root 302108 11-12 22:54 log2012.log</div><div class="line">-rw-r--r-- 1 root root     61 11-12 22:54 log2013.log</div><div class="line">-rw-r--r-- 1 root root      0 11-12 22:54 log2014.log</div><div class="line">[root@localhost test4]<span class="comment"># cd ..</span></div><div class="line">[root@localhost <span class="built_in">test</span>]<span class="comment"># ll</span></div><div class="line">总计 316</div><div class="line">-rw-r--r-- 1 root root 302108 11-13 06:03 log2012.log</div><div class="line">-rw-r--r-- 1 root root     61 11-13 06:03 log2013.log</div><div class="line">-rw-r--r-- 1 root root      0 11-13 06:03 log2014.log</div><div class="line">drwxr-xr-x 6 root root   4096 10-27 01:58 scf</div><div class="line">drwxrwxr-x 2 root root   4096 11-13 05:50 test3</div><div class="line">drwxrwxr-x 2 root root   4096 11-13 05:50 test4</div><div class="line">[root@localhost <span class="built_in">test</span>]<span class="comment">#</span></div></pre></td></tr></table></figure>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>说明</strong></p>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;使用 -i 参数默认的前面输出用 {} 代替，-I 参数可以指定其他代替字符，如例子中的[]</p>
<h3 id="实例9：xargs-的-p-参数的使用"><a href="#实例9：xargs-的-p-参数的使用" class="headerlink" title="实例9：xargs 的 -p 参数的使用"></a>实例9：xargs 的 -p 参数的使用</h3><p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>命令</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">find . -name <span class="string">"*.log"</span> | xargs -p -i mv &#123;&#125; ..</div></pre></td></tr></table></figure>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>输出</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line">[root@localhost test3]<span class="comment"># ll</span></div><div class="line">总计 0</div><div class="line">-rw-r--r-- 1 root root 0 11-13 06:06 log2015.log</div><div class="line">[root@localhost test3]<span class="comment"># cd ..</span></div><div class="line">[root@localhost <span class="built_in">test</span>]<span class="comment"># ll</span></div><div class="line">总计 316</div><div class="line">-rw-r--r-- 1 root root 302108 11-13 06:03 log2012.log</div><div class="line">-rw-r--r-- 1 root root     61 11-13 06:03 log2013.log</div><div class="line">-rw-r--r-- 1 root root      0 11-13 06:03 log2014.log</div><div class="line">drwxr-xr-x 6 root root   4096 10-27 01:58 scf</div><div class="line">drwxrwxr-x 2 root root   4096 11-13 06:06 test3</div><div class="line">drwxrwxr-x 2 root root   4096 11-13 05:50 test4</div><div class="line">[root@localhost <span class="built_in">test</span>]<span class="comment"># cd test3</span></div><div class="line">[root@localhost test3]<span class="comment">#  find . -name "*.log" | xargs -p -i mv &#123;&#125; ..</span></div><div class="line">mv ./log2015.log .. ?...y</div><div class="line">[root@localhost test3]<span class="comment"># ll</span></div><div class="line">总计 0[root@localhost test3]<span class="comment"># cd ..</span></div><div class="line">[root@localhost <span class="built_in">test</span>]<span class="comment"># ll</span></div><div class="line">总计 316</div><div class="line">-rw-r--r-- 1 root root 302108 11-13 06:03 log2012.log</div><div class="line">-rw-r--r-- 1 root root     61 11-13 06:03 log2013.log</div><div class="line">-rw-r--r-- 1 root root      0 11-13 06:03 log2014.log</div><div class="line">-rw-r--r-- 1 root root      0 11-13 06:06 log2015.log</div><div class="line">drwxr-xr-x 6 root root   4096 10-27 01:58 scf</div><div class="line">drwxrwxr-x 2 root root   4096 11-13 06:08 test3</div><div class="line">drwxrwxr-x 2 root root   4096 11-13 05:50 test4</div><div class="line">[root@localhost <span class="built_in">test</span>]<span class="comment">#</span></div></pre></td></tr></table></figure>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>说明</strong></p>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;-p 参数会提示让你确认是否执行后面的命令，y 执行，n 不执行。</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Linux命令/">Linux命令</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
      
    
  </div>
  
</article>







  
    <article id="post-2. Linux 命令/22. find 命令的参数详解" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2017/09/03/2. Linux 命令/22. find 命令的参数详解/" class="article-date">
  	<time datetime="2017-09-02T17:57:34.298Z" itemprop="datePublished">2017-09-03</time>
</a>
    </div>
  
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/09/03/2. Linux 命令/22. find 命令的参数详解/">
        find 命令的参数详解
        
      </a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;find 一些常用参数的一些常用实例和一些具体用法和注意事项。</p>
<h2 id="1-使用-name-选项"><a href="#1-使用-name-选项" class="headerlink" title="1.使用 name 选项"></a>1.使用 name 选项</h2><p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;文件名选项是 find 命令最常用的选项，要么单独使用该选项，要么和其他选项一起使用。可以使用某种文件名模式来匹配文件，记住要用引号将文件名模式引起来。不管当前路径是什么，如果想要在自己的根目录 $HOME 中查找文件名符合 *.log 的文件，使用 ~ 作为 ‘pathname’ 参数，波浪号 ~ 呆了了 $HOME 目录。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">find ~ -name <span class="string">"*.log"</span> -<span class="built_in">print</span></div></pre></td></tr></table></figure>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;想要在当前目录及子目录中查找所有的 ‘*.log’ 文件，可以用：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">find . -name <span class="string">"*.log"</span> -<span class="built_in">print</span></div></pre></td></tr></table></figure>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;想要在当前目录及子目录中查找文件名以一个大写字母开头的文件，可以用：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">find . -name <span class="string">"[A-Z]*"</span> -<span class="built_in">print</span></div></pre></td></tr></table></figure>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;想要在 /etc 目录中查找文件名以 host 开头的文件，可以用：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">find /etc -name <span class="string">"host*"</span> -<span class="built_in">print</span></div></pre></td></tr></table></figure>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;想要查找 $HOME 目录中的文件，可以用：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">find ~ -name <span class="string">"*"</span> -<span class="built_in">print</span></div></pre></td></tr></table></figure>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;或</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">find . -<span class="built_in">print</span></div></pre></td></tr></table></figure>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;要想让系统高负荷运行，就从根目录开始查找所有的文件</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">find / -name <span class="string">"*"</span> -<span class="built_in">print</span></div></pre></td></tr></table></figure>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;如果想在当前目录查找文件名以一个个小写字母开头，最后是4到9加上 .log 结束的文件：</p>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>命令</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">find . -name <span class="string">"[a-z]*[4-9].log"</span> -<span class="built_in">print</span></div></pre></td></tr></table></figure>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>输出</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">[root@localhost <span class="built_in">test</span>]<span class="comment"># ll</span></div><div class="line">总计 316</div><div class="line">-rw-r--r-- 1 root root 302108 11-13 06:03 log2012.log</div><div class="line">-rw-r--r-- 1 root root     61 11-13 06:03 log2013.log</div><div class="line">-rw-r--r-- 1 root root      0 11-13 06:03 log2014.log</div><div class="line">-rw-r--r-- 1 root root      0 11-13 06:06 log2015.log</div><div class="line">drwxr-xr-x 6 root root   4096 10-27 01:58 scf</div><div class="line">drwxrwxr-x 2 root root   4096 11-13 06:08 test3</div><div class="line">drwxrwxr-x 2 root root   4096 11-13 05:50 test4</div><div class="line">[root@localhost <span class="built_in">test</span>]<span class="comment"># find . -name "[a-z]*[4-9].log" -print</span></div><div class="line">./log2014.log</div><div class="line">./log2015.log</div><div class="line">./test4/log2014.log</div><div class="line">[root@localhost <span class="built_in">test</span>]<span class="comment">#</span></div></pre></td></tr></table></figure>
<h2 id="2-用-perm-选项"><a href="#2-用-perm-选项" class="headerlink" title="2.用 perm 选项"></a>2.用 perm 选项</h2><p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;按照文件权限模式用 -perm 选项，按文件权限模式来查找文件的话。最好使用八进制的权限表示法。</p>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;如在当前目录下查找文件权限位为755的文件，即文件属主可以读、写、执行，其他用户可以读、执行的文件，可以用：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">[root@localhost <span class="built_in">test</span>]<span class="comment"># find . -perm 755 -print</span></div><div class="line">.</div><div class="line">./scf</div><div class="line">./scf/lib</div><div class="line">./scf/service</div><div class="line">./scf/service/deploy</div><div class="line">./scf/service/deploy/product</div><div class="line">./scf/service/deploy/info</div><div class="line">./scf/doc</div><div class="line">./scf/bin</div><div class="line">[root@localhost <span class="built_in">test</span>]<span class="comment">#</span></div></pre></td></tr></table></figure>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;还有一种表达方法：在八进制数字前面要加一个横杠 - ，表示都匹配，如 -007 就相当于 777， -005 相当于 555。</p>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>命令</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">find . -perm -005</div></pre></td></tr></table></figure>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>输出</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line">[root@localhost <span class="built_in">test</span>]<span class="comment"># ll</span></div><div class="line">总计 316</div><div class="line">-rw-r--r-- 1 root root 302108 11-13 06:03 log2012.log</div><div class="line">-rw-r--r-- 1 root root     61 11-13 06:03 log2013.log</div><div class="line">-rw-r--r-- 1 root root      0 11-13 06:03 log2014.log</div><div class="line">-rw-r--r-- 1 root root      0 11-13 06:06 log2015.log</div><div class="line">drwxr-xr-x 6 root root   4096 10-27 01:58 scf</div><div class="line">drwxrwxr-x 2 root root   4096 11-13 06:08 test3</div><div class="line">drwxrwxr-x 2 root root   4096 11-13 05:50 test4</div><div class="line">[root@localhost <span class="built_in">test</span>]<span class="comment"># find . -perm -005</span></div><div class="line">.</div><div class="line">./test4</div><div class="line">./scf</div><div class="line">./scf/lib</div><div class="line">./scf/service</div><div class="line">./scf/service/deploy</div><div class="line">./scf/service/deploy/product</div><div class="line">./scf/service/deploy/info</div><div class="line">./scf/doc</div><div class="line">./scf/bin</div><div class="line">./test3</div><div class="line">[root@localhost <span class="built_in">test</span>]<span class="comment">#</span></div></pre></td></tr></table></figure>
<h2 id="3-忽略某个目录"><a href="#3-忽略某个目录" class="headerlink" title="3.忽略某个目录"></a>3.忽略某个目录</h2><p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;如果在查找文件时希望忽略某个目录，因为知道那个目录中没有索要查找的文件，那么可以使用 -prune 选项来指出需要忽略的目录。在使用 -prune 选项时要当心，因为如果同时使用了 -depth 选项，那么 -prune 选项就会被 find 命令忽略。如果希望在 test 目录下查找文件，但不希望在 test/test3 目录下查找，可以用：</p>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>命令</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">find <span class="built_in">test</span> -path “<span class="built_in">test</span>/test3” -prune -o -<span class="built_in">print</span></div></pre></td></tr></table></figure>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>输出</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">[root@localhost soft]<span class="comment"># find test -path "test/test3" -prune -o -print</span></div><div class="line"><span class="built_in">test</span></div><div class="line"><span class="built_in">test</span>/log2014.log</div><div class="line"><span class="built_in">test</span>/log2015.log</div><div class="line"><span class="built_in">test</span>/test4</div><div class="line"><span class="built_in">test</span>/test4/log2014.log</div><div class="line"><span class="built_in">test</span>/test4/log2013.log</div><div class="line"><span class="built_in">test</span>/test4/log2012.log</div><div class="line"><span class="built_in">test</span>/scf</div><div class="line"><span class="built_in">test</span>/scf/lib</div><div class="line"><span class="built_in">test</span>/scf/service</div><div class="line"><span class="built_in">test</span>/scf/service/deploy</div><div class="line"><span class="built_in">test</span>/scf/service/deploy/product</div><div class="line"><span class="built_in">test</span>/scf/service/deploy/info</div><div class="line"><span class="built_in">test</span>/scf/doc</div><div class="line"><span class="built_in">test</span>/scf/bin</div><div class="line"><span class="built_in">test</span>/log2013.log</div><div class="line"><span class="built_in">test</span>/log2012.log</div><div class="line">[root@localhost soft]<span class="comment">#</span></div></pre></td></tr></table></figure>
<h2 id="4-使用-find-查找文件的时候怎么不开某个文件目录"><a href="#4-使用-find-查找文件的时候怎么不开某个文件目录" class="headerlink" title="4.使用 find 查找文件的时候怎么不开某个文件目录"></a>4.使用 find 查找文件的时候怎么不开某个文件目录</h2><h3 id="实例1：在-test-目录下查找不再-test4-子目录之内的所有文件"><a href="#实例1：在-test-目录下查找不再-test4-子目录之内的所有文件" class="headerlink" title="实例1：在 test 目录下查找不再 test4 子目录之内的所有文件"></a>实例1：在 test 目录下查找不再 test4 子目录之内的所有文件</h3><p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>命令</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">find <span class="built_in">test</span> -path <span class="string">"test/test4"</span> -prune -o -<span class="built_in">print</span></div></pre></td></tr></table></figure>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>输出</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div></pre></td><td class="code"><pre><div class="line">[root@localhost soft]<span class="comment"># find test</span></div><div class="line"><span class="built_in">test</span></div><div class="line"><span class="built_in">test</span>/log2014.log</div><div class="line"><span class="built_in">test</span>/log2015.log</div><div class="line"><span class="built_in">test</span>/test4</div><div class="line"><span class="built_in">test</span>/test4/log2014.log</div><div class="line"><span class="built_in">test</span>/test4/log2013.log</div><div class="line"><span class="built_in">test</span>/test4/log2012.log</div><div class="line"><span class="built_in">test</span>/scf</div><div class="line"><span class="built_in">test</span>/scf/lib</div><div class="line"><span class="built_in">test</span>/scf/service</div><div class="line"><span class="built_in">test</span>/scf/service/deploy</div><div class="line"><span class="built_in">test</span>/scf/service/deploy/product</div><div class="line"><span class="built_in">test</span>/scf/service/deploy/info</div><div class="line"><span class="built_in">test</span>/scf/doc</div><div class="line"><span class="built_in">test</span>/scf/bin</div><div class="line"><span class="built_in">test</span>/log2013.log</div><div class="line"><span class="built_in">test</span>/log2012.log</div><div class="line"><span class="built_in">test</span>/test3</div><div class="line">[root@localhost soft]<span class="comment"># find test -path "test/test4" -prune -o -print</span></div><div class="line"><span class="built_in">test</span></div><div class="line"><span class="built_in">test</span>/log2014.log</div><div class="line"><span class="built_in">test</span>/log2015.log</div><div class="line"><span class="built_in">test</span>/scf</div><div class="line"><span class="built_in">test</span>/scf/lib</div><div class="line"><span class="built_in">test</span>/scf/service</div><div class="line"><span class="built_in">test</span>/scf/service/deploy</div><div class="line"><span class="built_in">test</span>/scf/service/deploy/product</div><div class="line"><span class="built_in">test</span>/scf/service/deploy/info</div><div class="line"><span class="built_in">test</span>/scf/doc</div><div class="line"><span class="built_in">test</span>/scf/bin</div><div class="line"><span class="built_in">test</span>/log2013.log</div><div class="line"><span class="built_in">test</span>/log2012.log</div><div class="line"><span class="built_in">test</span>/test3</div><div class="line">[root@localhost soft]<span class="comment">#</span></div></pre></td></tr></table></figure>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>说明</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">find [-path ..] [expression]</div></pre></td></tr></table></figure>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;在路径列表的后面的是表达式<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;-path “test” -prune -o -print 是 -path “test” -a -prune -o -print 的简写表达式按顺序求值， -a 和 -o 都是短路求值，与 shell 的 &amp;&amp; 和 || 类似。<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;如果 -path “test” 为真，则求值 -prune ，-prune 返回真，与逻辑表达式为真；否则不求值 -prune ，与逻辑表达式为假。如果 -path “test” -a -prune 为假，则求值 -print ，-print 返回真，或逻辑表达式为真；否则不求值 -print ，或逻辑表达式为真。<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;这个表达式组合特例可以用伪码写为：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span> -path <span class="string">"test"</span></div><div class="line"><span class="keyword">then</span></div><div class="line">    -prune</div><div class="line"><span class="keyword">else</span></div><div class="line">    -<span class="built_in">print</span></div></pre></td></tr></table></figure>
<h2 id="实例2：避开多个文件夹"><a href="#实例2：避开多个文件夹" class="headerlink" title="实例2：避开多个文件夹"></a>实例2：避开多个文件夹</h2><p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>命令</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">find <span class="built_in">test</span> \( -path <span class="built_in">test</span>/test4 -o -path <span class="built_in">test</span>/test3 \) -prune -o -<span class="built_in">print</span></div></pre></td></tr></table></figure>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>输出</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">[root@localhost soft]<span class="comment"># find test \( -path test/test4 -o -path test/test3 \) -prune -o -print</span></div><div class="line"><span class="built_in">test</span></div><div class="line"><span class="built_in">test</span>/log2014.log</div><div class="line"><span class="built_in">test</span>/log2015.log</div><div class="line"><span class="built_in">test</span>/scf</div><div class="line"><span class="built_in">test</span>/scf/lib</div><div class="line"><span class="built_in">test</span>/scf/service</div><div class="line"><span class="built_in">test</span>/scf/service/deploy</div><div class="line"><span class="built_in">test</span>/scf/service/deploy/product</div><div class="line"><span class="built_in">test</span>/scf/service/deploy/info</div><div class="line"><span class="built_in">test</span>/scf/doc</div><div class="line"><span class="built_in">test</span>/scf/bin</div><div class="line"><span class="built_in">test</span>/log2013.log</div><div class="line"><span class="built_in">test</span>/log2012.log</div><div class="line">[root@localhost soft]<span class="comment">#</span></div></pre></td></tr></table></figure>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>说明</strong><br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;圆括号表示表达式的结合。 \ 表示引用，即指示 shell 不对后面的字符作特殊解释，而留给 find 命令去解释其意义。</p>
<h3 id="实例3：查找某一确定文件，-name-等选项加在-o-之后"><a href="#实例3：查找某一确定文件，-name-等选项加在-o-之后" class="headerlink" title="实例3：查找某一确定文件，-name 等选项加在 -o 之后"></a>实例3：查找某一确定文件，-name 等选项加在 -o 之后</h3><p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>命令</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">find <span class="built_in">test</span> \(-path <span class="built_in">test</span>/test4 -o -path <span class="built_in">test</span>/test3 \) -prune -o -name <span class="string">"*.log"</span> -<span class="built_in">print</span></div></pre></td></tr></table></figure>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>输出</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">[root@localhost soft]<span class="comment"># find test \( -path test/test4 -o -path test/test3 \) -prune -o -name "*.log" -print</span></div><div class="line"><span class="built_in">test</span>/log2014.log</div><div class="line"><span class="built_in">test</span>/log2015.log</div><div class="line"><span class="built_in">test</span>/log2013.log</div><div class="line"><span class="built_in">test</span>/log2012.log</div><div class="line">[root@localhost soft]<span class="comment">#</span></div></pre></td></tr></table></figure>
<h2 id="5-使用-user-和-nouser-选项"><a href="#5-使用-user-和-nouser-选项" class="headerlink" title="5.使用 user 和 nouser 选项"></a>5.使用 user 和 nouser 选项</h2><p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;按文件属主查找文件：</p>
<h3 id="实例1：在-HOME-目录中查找文件属主为-peida-的文件"><a href="#实例1：在-HOME-目录中查找文件属主为-peida-的文件" class="headerlink" title="实例1：在 $HOME 目录中查找文件属主为 peida 的文件"></a>实例1：在 $HOME 目录中查找文件属主为 peida 的文件</h3><p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>命令</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">find ~ -user peida -<span class="built_in">print</span></div></pre></td></tr></table></figure>
<h3 id="实例2：在-etc-目录下查找文件属主为-peida-的文件"><a href="#实例2：在-etc-目录下查找文件属主为-peida-的文件" class="headerlink" title="实例2：在 /etc 目录下查找文件属主为 peida 的文件"></a>实例2：在 /etc 目录下查找文件属主为 peida 的文件</h3><p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>命令</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">find /etc -user peida -<span class="built_in">print</span></div></pre></td></tr></table></figure>
<h3 id="实例3：为了查找属主账户已经被删除的文件，可以使用-nouser-选项。在-home-目录下查找所有的这类文件"><a href="#实例3：为了查找属主账户已经被删除的文件，可以使用-nouser-选项。在-home-目录下查找所有的这类文件" class="headerlink" title="实例3：为了查找属主账户已经被删除的文件，可以使用 -nouser 选项。在 /home 目录下查找所有的这类文件"></a>实例3：为了查找属主账户已经被删除的文件，可以使用 -nouser 选项。在 /home 目录下查找所有的这类文件</h3><p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>命令</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">find /home -nouser -<span class="built_in">print</span></div></pre></td></tr></table></figure>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>说明</strong><br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;这样就能够找到那些属主在 /etc/passwd 文件中没有有效账户的文件。在使用 -nouser 选项时，不必给出用户名；find 命令能够完成相应的工作。</p>
<h2 id="6-使用-group-和-nogroup-选项"><a href="#6-使用-group-和-nogroup-选项" class="headerlink" title="6.使用 group 和 nogroup 选项"></a>6.使用 group 和 nogroup 选项</h2><p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;就像 user 和 nouser 选项一样，针对文件所属于的用户组，find 命令也具有同样的选项，为了在 /apps 目录下查找属于 gem 用户组的文件，可以用：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">find /apps -group gem -<span class="built_in">print</span></div></pre></td></tr></table></figure>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;要查找没有有效所属用户组的所有文件，可以使用 nogroup 选项。下面的 find 命令从文件系统的根目录处查找这样的文件：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">find / -nogroup -<span class="built_in">print</span></div></pre></td></tr></table></figure>
<h2 id="7-按照更改时间或访问时间等查找文件"><a href="#7-按照更改时间或访问时间等查找文件" class="headerlink" title="7.按照更改时间或访问时间等查找文件"></a>7.按照更改时间或访问时间等查找文件</h2><p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;如果希望按照更改时间来查找文件，可以使用 mtime 、atime 或 ctime 选项。如果系统突然没有可用空间了，很有可能某一个文件的长度在期间增长迅速，这是就可以用 mtime 选项来查找这样的文件。<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;用减号 - 来限定更改时间在距今 n 日之内的文件，而用加好 + 来限定更改时间在距今 n 日以前的文件。<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;希望在系统根目录下查找更改时间在5日以内的文件，可以用：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">find / -mtime -5 <span class="built_in">print</span></div></pre></td></tr></table></figure>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;为了在 /var/adm 目录下查找更改时间在3日以前的文件，可以用：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">find /var/adm -mtime +3 -<span class="built_in">print</span></div></pre></td></tr></table></figure>
<h2 id="8-查找比某个文件新或旧的文件"><a href="#8-查找比某个文件新或旧的文件" class="headerlink" title="8.查找比某个文件新或旧的文件"></a>8.查找比某个文件新或旧的文件</h2><p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;如果希望查找更改时间比某个文件新但比另一个文件旧的所有文件可以使用 -newer 选项。<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;它的一般形式为：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">newest_file_name ! oldest_file_name</div></pre></td></tr></table></figure>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;其中，！ 是逻辑非符号。</p>
<h3 id="实例1：-查找更改时间比文件-log2012-log-新但比文件-log2017-log-旧的文件"><a href="#实例1：-查找更改时间比文件-log2012-log-新但比文件-log2017-log-旧的文件" class="headerlink" title="实例1： 查找更改时间比文件 log2012.log 新但比文件 log2017.log 旧的文件"></a>实例1： 查找更改时间比文件 <code>log2012.log</code> 新但比文件 <code>log2017.log</code> 旧的文件</h3><p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>命令</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">find -newer log2012.log ! -newer log2017.log</div></pre></td></tr></table></figure>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>输出</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">[root@localhost <span class="built_in">test</span>]<span class="comment"># ll</span></div><div class="line">总计 316</div><div class="line">-rw-r--r-- 1 root root 302108 11-13 06:03 log2012.log</div><div class="line">-rw-r--r-- 1 root root     61 11-13 06:03 log2013.log</div><div class="line">-rw-r--r-- 1 root root      0 11-13 06:03 log2014.log</div><div class="line">-rw-r--r-- 1 root root      0 11-13 06:06 log2015.log</div><div class="line">-rw-r--r-- 1 root root      0 11-16 14:41 log2016.log</div><div class="line">-rw-r--r-- 1 root root      0 11-16 14:43 log2017.log</div><div class="line">drwxr-xr-x 6 root root   4096 10-27 01:58 scf</div><div class="line">drwxrwxr-x 2 root root   4096 11-13 06:08 test3</div><div class="line">drwxrwxr-x 2 root root   4096 11-13 05:50 test4</div><div class="line">[root@localhost <span class="built_in">test</span>]<span class="comment"># find -newer log2012.log ! -newer log2017.log</span></div><div class="line">.</div><div class="line">./log2015.log</div><div class="line">./log2017.log</div><div class="line">./log2016.log</div><div class="line">./test3</div><div class="line">[root@localhost <span class="built_in">test</span>]<span class="comment">#</span></div></pre></td></tr></table></figure>
<h3 id="实例2：查找更改时间比-log2012-log-文件新的文件"><a href="#实例2：查找更改时间比-log2012-log-文件新的文件" class="headerlink" title="实例2：查找更改时间比  log2012.log 文件新的文件"></a>实例2：查找更改时间比  <code>log2012.log</code> 文件新的文件</h3><p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>命令</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">find . -newer log2012.log -<span class="built_in">print</span></div></pre></td></tr></table></figure>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>输出</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">[root@localhost <span class="built_in">test</span>]<span class="comment"># find -newer log2012.log</span></div><div class="line">.</div><div class="line">./log2015.log</div><div class="line">./log2017.log</div><div class="line">./log2016.log</div><div class="line">./test3</div><div class="line">[root@localhost <span class="built_in">test</span>]<span class="comment">#</span></div></pre></td></tr></table></figure>
<h2 id="9-使用-type-选项"><a href="#9-使用-type-选项" class="headerlink" title="9.使用 type 选项"></a>9.使用 type 选项</h2><h3 id="实例1：在-etc-目录下查找所有的目录"><a href="#实例1：在-etc-目录下查找所有的目录" class="headerlink" title="实例1：在 /etc 目录下查找所有的目录"></a>实例1：在 /etc 目录下查找所有的目录</h3><p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>命令</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">find /etc -<span class="built_in">type</span> d -<span class="built_in">print</span></div></pre></td></tr></table></figure>
<h3 id="实例2：在当前目录下查找除目录意外的所有类型的文件"><a href="#实例2：在当前目录下查找除目录意外的所有类型的文件" class="headerlink" title="实例2：在当前目录下查找除目录意外的所有类型的文件"></a>实例2：在当前目录下查找除目录意外的所有类型的文件</h3><p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>命令</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">find . ! -<span class="built_in">type</span> d -<span class="built_in">print</span></div></pre></td></tr></table></figure>
<h3 id="实例3：在-etc-目录下查找所有-负担好链接文件"><a href="#实例3：在-etc-目录下查找所有-负担好链接文件" class="headerlink" title="实例3：在 /etc 目录下查找所有  负担好链接文件"></a>实例3：在 /etc 目录下查找所有  负担好链接文件</h3><p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>命令</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">find /etc/-<span class="built_in">type</span> l -<span class="built_in">print</span></div></pre></td></tr></table></figure>
<h2 id="使用-size-选项"><a href="#使用-size-选项" class="headerlink" title="使用 size 选项"></a>使用 size 选项</h2><p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;可以按照文件长度来查找文件，这里所指的文件长度既可以用块（block）来计量，也可以用字节来计量。以字节计量文件长度的表达形式为N c；以块计量文件长度只用数字表示即可。</p>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;在按照文件长度查找文件时，一般使用这种以字节表示的文件长度，在查看文件系统的大小，因为这时使用块来计量更容易转换。</p>
<h3 id="实例1：在当前目录下查找文件长度大于1M字节的文件"><a href="#实例1：在当前目录下查找文件长度大于1M字节的文件" class="headerlink" title="实例1：在当前目录下查找文件长度大于1M字节的文件"></a>实例1：在当前目录下查找文件长度大于1M字节的文件</h3><p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>命令</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">find . -size +1000000c -<span class="built_in">print</span></div></pre></td></tr></table></figure>
<h3 id="实例2：在-home-apache-目录下查找文件长度恰好为100字节的文件"><a href="#实例2：在-home-apache-目录下查找文件长度恰好为100字节的文件" class="headerlink" title="实例2：在/home/apache 目录下查找文件长度恰好为100字节的文件"></a>实例2：在/home/apache 目录下查找文件长度恰好为100字节的文件</h3><p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>命令</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">find /home/apache -size 100c -<span class="built_in">print</span></div></pre></td></tr></table></figure>
<h3 id="实例3：在当前目录下查找长度超过10块的文件，（一块等于512字节）"><a href="#实例3：在当前目录下查找长度超过10块的文件，（一块等于512字节）" class="headerlink" title="实例3：在当前目录下查找长度超过10块的文件，（一块等于512字节）"></a>实例3：在当前目录下查找长度超过10块的文件，（一块等于512字节）</h3><p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>命令</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">find . -size +10 -<span class="built_in">print</span></div></pre></td></tr></table></figure>
<h2 id="使用-depth-选项"><a href="#使用-depth-选项" class="headerlink" title="使用 depth 选项"></a>使用 depth 选项</h2><p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;在使用 find 命令时，可能希望先匹配所有的文件，再在子目录中查找。使用 depth 选项就可以使 find 命令这样做。这样做的一个原因就是，当在使用 find 命令想磁带上备份文件系统时，希望首先备份所有的 文件，其次再备份子目录中的文件。</p>
<h3 id="实例1：find-命令从文件系统的根目录开始，查找一个名为-CON-FILE-的文件"><a href="#实例1：find-命令从文件系统的根目录开始，查找一个名为-CON-FILE-的文件" class="headerlink" title="实例1：find 命令从文件系统的根目录开始，查找一个名为 CON.FILE 的文件"></a>实例1：find 命令从文件系统的根目录开始，查找一个名为 CON.FILE 的文件</h3><p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>命令</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">find . -name <span class="string">"*.XC"</span> -mount -<span class="built_in">print</span></div></pre></td></tr></table></figure>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Linux命令/">Linux命令</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
      
    
  </div>
  
</article>







  
    <article id="post-2. Linux 命令/84. Linux 命令- curl" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2017/09/03/2. Linux 命令/84. Linux 命令- curl/" class="article-date">
  	<time datetime="2017-09-02T17:57:34.297Z" itemprop="datePublished">2017-09-03</time>
</a>
    </div>
  
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/09/03/2. Linux 命令/84. Linux 命令- curl/">
        Linux 命令- curl
        
      </a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;curl是Linux系统命令行下用来简单测试web访问的工具，是一个利用URL规则在命令行下工作的文件传输工具。它支持文件的上传和下载。</p>
<h2 id="命令参数"><a href="#命令参数" class="headerlink" title="命令参数"></a>命令参数</h2><p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;curl命令参数很多。</p>
<ul>
<li><p>-a/–append 上传文件时，附加到目标文件</p>
</li>
<li><p>-A:随意指定自己这次访问所宣称的自己的浏览器信息</p>
</li>
<li><p>-b/–cookie <name=string file=""> cookie字符串或文件读取位置，使用option来把上次的cookie信息追加到http request里面去。</name=string></p>
</li>
<li><p>-c/–cookie-jar <file> 操作结束后把cookie写入到这个文件中</file></p>
</li>
<li><p>-C/–continue-at <offset>  断点续转</offset></p>
</li>
<li><p>-d/–data <data>   HTTP POST方式传送数据</data></p>
<ul>
<li>–data-ascii <data>    以ascii的方式post数据</data></li>
<li>–data-binary <data>    以二进制的方式post数据</data></li>
<li>–negotiate    使用HTTP身份验证</li>
<li>–digest    使用数字身份验证</li>
<li>–disable-eprt    禁止使用EPRT或LPRT</li>
<li>–disable-epsv    禁止使用EPSV</li>
</ul>
</li>
<li><p>-D/–dump-header <file> 把header信息写入到该文件中</file></p>
<ul>
<li>–egd-file <file>  为随机数据(SSL)设置EGD socket路径</file></li>
<li>–tcp-nodelay     使用TCP_NODELAY选项</li>
</ul>
</li>
<li><p>-e/–referer <url>  指定引用地址</url></p>
</li>
<li><p>-F/–form <name=content>   模拟http表单提交数据</name=content></p>
<ul>
<li>–form-string <name=string> 模拟http表单提交数据</name=string></li>
</ul>
</li>
<li><p>-G/–get    以get的方式来发送数据</p>
</li>
<li><p>-H/–header <header> 指定请求头参数</header></p>
<ul>
<li>–ignore-content-length  忽略的HTTP头信息的长度</li>
</ul>
</li>
<li><p>-i/–include     输出时包括protocol头信息</p>
</li>
<li><p>-I/–head 仅返回头部信息，使用HEAD请求</p>
</li>
<li><p>-k/–insecure  允许不使用证书到SSL站点</p>
</li>
<li><p>-K/–config    指定的配置文件读取</p>
</li>
<li><p>-l/–list-only   列出ftp目录下的文件名称</p>
<ul>
<li>–limit-rate <rate> 设置传输速度</rate></li>
<li>–local-port<num>  强制使用本地端口号</num></li>
</ul>
</li>
<li><p>-m/–max-time <seconds> 指定处理的最大时长</seconds></p>
<ul>
<li>–max-redirs <num>    设置最大读取的目录数</num></li>
<li>–max-filesize <bytes>  设置最大下载的文件总量</bytes></li>
</ul>
</li>
<li><p>-o/–output <file>   指定输出文件名称</file></p>
</li>
<li><p>-O/–remote-name  把输出写到该文件中，保留远程文件的文件名</p>
</li>
<li><p>-v/–verbose  小写的v参数，用于打印更多信息，包括发送的请求信息，这在调试脚本是特别有用。</p>
</li>
<li><p>-s/–slient 减少输出的信息，比如进度</p>
</li>
<li><p>–connect-timeout <seconds> 指定尝试连接的最大时长</seconds></p>
</li>
<li><p>-x/–proxy <proxyhost[:port]> 指定代理服务器地址和端口，端口默认为1080</proxyhost[:port]></p>
</li>
<li><p>-u/–user <user[:password]>设置服务器的用户和密码</user[:password]></p>
</li>
<li><p>-r/–range <range>检索来自HTTP/1.1或FTP服务器字节范围</range></p>
<ul>
<li>–range-file 读取（SSL）的随机文件</li>
</ul>
</li>
<li><p>-R/–remote-time   在本地生成文件时，保留远程文件时间</p>
<ul>
<li>–retry <num>   指定重试次数</num></li>
<li>–retry-delay <seconds>   传输出现问题时，设置重试间隔时间</seconds></li>
<li>–retry-max-time <seconds>  传输出现问题时，设置最大重试时间</seconds></li>
</ul>
</li>
<li><p>-s/–silent  静默模式。不输出任何东西</p>
</li>
<li><p>-S/–show-error  显示错误</p>
<ul>
<li>–socks4 <host[:port]> 用socks4代理给定主机和端口</host[:port]></li>
<li>–socks5 <host[:port]> 用socks5代理给定主机和端口</host[:port]></li>
<li>–stderr <file></file></li>
</ul>
</li>
<li><p>-x/–proxy <host[:port]> 在给定的端口上使用HTTP代理</host[:port]></p>
</li>
<li><p>-X/–request <command> 指定什么命令。curl默认的HTTP动词是GET，使用-X参数可以支持其他动词。</p>
</li>
<li><p>-T/–upload-file <file> 指定上传文件路径</file></p>
</li>
</ul>
<h2 id="命令功能"><a href="#命令功能" class="headerlink" title="命令功能"></a>命令功能</h2><p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;curl命令是一个功能强大的网络工具，它能够通过http、ftp等方式下载文件，也能够上传文件，同时支持HTTPS等众多协议，还支持POST、cookies、认证、从指定偏移处下载部分文件、用户代理字符串、限速、文件大小、进度条等特征。其实curl远不止前面所说的那些功能，大家可以通过man curl阅读手册页获取更多的信息。类似的工具还有wget。curl命令使用了libcurl库来实现，libcurl库常用在C程序中用来处理HTTP请求，curlpp是libcurl的一个C++封装，这几个东西可以用在抓取网页、网络监控等方面的开发，而curl命令可以帮助来解决开发过程中遇到的问题。</p>
<h2 id="常用命令"><a href="#常用命令" class="headerlink" title="常用命令"></a>常用命令</h2><h3 id="1-x指定ip和端口，省略写hosts，方便使用"><a href="#1-x指定ip和端口，省略写hosts，方便使用" class="headerlink" title="1.-x指定ip和端口，省略写hosts，方便使用"></a>1.-x指定ip和端口，省略写hosts，方便使用</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[root@localhost ~]<span class="comment"># curl -xip:port www.baidu.com</span></div></pre></td></tr></table></figure>
<h3 id="2-I可以把当前的内容略掉，只显示状态码，-v可以显示详细过程"><a href="#2-I可以把当前的内容略掉，只显示状态码，-v可以显示详细过程" class="headerlink" title="2.-I可以把当前的内容略掉，只显示状态码，-v可以显示详细过程"></a>2.-I可以把当前的内容略掉，只显示状态码，-v可以显示详细过程</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[root@localhost ~]<span class="comment"># curl -Iv http://www.qq.com</span></div></pre></td></tr></table></figure>
<h3 id="3-u可以指定用户名和密码"><a href="#3-u可以指定用户名和密码" class="headerlink" title="3.-u可以指定用户名和密码"></a>3.-u可以指定用户名和密码</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[root@localhost ~]<span class="comment"># curl -u user:password http://123.com</span></div></pre></td></tr></table></figure>
<h3 id="4-O直接下载页面或者对象"><a href="#4-O直接下载页面或者对象" class="headerlink" title="4.-O直接下载页面或者对象"></a>4.-O直接下载页面或者对象</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[root@localhost ~]<span class="comment"># curl http://study.lishiming.net/index.heml -O</span></div></pre></td></tr></table></figure>
<h3 id="5-o自定义名字"><a href="#5-o自定义名字" class="headerlink" title="5.-o自定义名字"></a>5.-o自定义名字</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[root@localhost ~]<span class="comment"># curl -o index2 http://study.lishiming.net/index.heml</span></div></pre></td></tr></table></figure>
<h2 id="使用实例"><a href="#使用实例" class="headerlink" title="使用实例"></a>使用实例</h2><h3 id="实例1：读取网页"><a href="#实例1：读取网页" class="headerlink" title="实例1：读取网页"></a>实例1：读取网页</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">curl http://www.linuxidc.com</div></pre></td></tr></table></figure>
<h3 id="实例2：保存网页"><a href="#实例2：保存网页" class="headerlink" title="实例2：保存网页"></a>实例2：保存网页</h3><h4 id="o：将文件保存为命令行中指定的文件名的文件中"><a href="#o：将文件保存为命令行中指定的文件名的文件中" class="headerlink" title="-o：将文件保存为命令行中指定的文件名的文件中"></a>-o：将文件保存为命令行中指定的文件名的文件中</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">curl -o page.html http://www.linuxidc.com.html</div></pre></td></tr></table></figure>
<h4 id="O：使用URL中默认的文件名保存文件到本地"><a href="#O：使用URL中默认的文件名保存文件到本地" class="headerlink" title="-O：使用URL中默认的文件名保存文件到本地"></a>-O：使用URL中默认的文件名保存文件到本地</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">curl -O http://linuxidc.com.html</div></pre></td></tr></table></figure>
<h4 id="其他：可以使用-gt-进行输出"><a href="#其他：可以使用-gt-进行输出" class="headerlink" title="其他：可以使用 &gt; 进行输出"></a>其他：可以使用 <code>&gt;</code> 进行输出</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">curl http://www.linuxidc.com &gt; page.html</div></pre></td></tr></table></figure>
<h3 id="实例3：使用proxy服务器及其端口：-x"><a href="#实例3：使用proxy服务器及其端口：-x" class="headerlink" title="实例3：使用proxy服务器及其端口：-x"></a>实例3：使用proxy服务器及其端口：-x</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">curl -x 123.45.67.89:1080 -o page.html http://www.linuxidc.com</div></pre></td></tr></table></figure>
<h3 id="实例4：使用cookie来记录session信息"><a href="#实例4：使用cookie来记录session信息" class="headerlink" title="实例4：使用cookie来记录session信息"></a>实例4：使用cookie来记录session信息</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">curl -x 123.45.67.89:1080 -o page.html -D cookie0001.txt http://www.linuxidc.com</div></pre></td></tr></table></figure>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;这个option： -D是把http的response里面的cookie信息存到一个特别的文件中去，</p>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;这样，当页面被存到page.html的同时，cookie信息也被存到了cookie0001.txt里面了</p>
<h3 id="实例5：下次访问的时候，使用iption把上次的cookie信息追加到http-request里面去：-b"><a href="#实例5：下次访问的时候，使用iption把上次的cookie信息追加到http-request里面去：-b" class="headerlink" title="实例5：下次访问的时候，使用iption把上次的cookie信息追加到http request里面去：-b"></a>实例5：下次访问的时候，使用iption把上次的cookie信息追加到http request里面去：-b</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">curl -x 123.45.6789:1080 -o page1.html -D cookie0002.txt -b cookie0001.txt http://www.linuxidc.com</div></pre></td></tr></table></figure>
<h3 id="实例6：浏览器信息"><a href="#实例6：浏览器信息" class="headerlink" title="实例6：浏览器信息"></a>实例6：浏览器信息</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">curl -A <span class="string">"Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.0)"</span> -x 123.45.67.89:1080 -o page.html -D cookie0001.txt http://www.linuxidc.com</div></pre></td></tr></table></figure>
<h3 id="实例7：referer"><a href="#实例7：referer" class="headerlink" title="实例7：referer"></a>实例7：referer</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">curl -A <span class="string">"Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.0)"</span> -x 123.45.67.89:1080 -e <span class="string">"mail.linuxidc.com"</span> -o page.html -D cookie0001.txt http://www.linuxidc.com</div></pre></td></tr></table></figure>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;这样就可以骗对方的服务器，你是从mail.linuxidc.com点击某个连接过来的。</p>
<h3 id="实例8：下载文件"><a href="#实例8：下载文件" class="headerlink" title="实例8：下载文件"></a>实例8：下载文件</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">curl -o 1.jpg http://cgi2.tky.3web.ne.jp/~zzh/screen1.JPG</div><div class="line">curl -O http://cgi2.tky.3web.ne.jp/~zzh/screen1.JPG</div></pre></td></tr></table></figure>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;-O可以按照服务器上的文件名，自动存在本地</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">curl -O http://cgi2.tky.3web.ne.jp/~zzh/screen[1-10].JPG</div></pre></td></tr></table></figure>
<h3 id="实例9：批量下载"><a href="#实例9：批量下载" class="headerlink" title="实例9：批量下载"></a>实例9：批量下载</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">curl -O http://cgi2.tky.3web.ne.jp/~&#123;zzh,nick&#125;/[001-201].JPG</div></pre></td></tr></table></figure>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;这样产生的下载就是：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">~zzh/001.JPG</div><div class="line">~zzh/002.JPG</div><div class="line">...</div><div class="line">~zzh/201.JPG</div><div class="line">~nick/001.JPG</div><div class="line">~nick/002.JPG</div><div class="line">...</div><div class="line">~nick/201.JPG</div></pre></td></tr></table></figure>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;自定义文件名的批量下载</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">curl -o <span class="comment">#2_#1.jpg http://cgi2.tky.3web.ne.jp/~&#123;zzh,nick&#125;/[001-201].JPG</span></div></pre></td></tr></table></figure>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;这样，自定义出来下载下来的文件名就变成了这样：</p>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;原来：<code>~zzh/001.JPG</code>  –&gt; 下载后： <code>001-zzh.JPG</code>  原来： <code>~nick/001.JPG</code> –&gt; 下载后： <code>001-nick.JPG</code></p>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;这样就不怕文件重名了。</p>
<h3 id="实例10：断点续传"><a href="#实例10：断点续传" class="headerlink" title="实例10：断点续传"></a>实例10：断点续传</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">curl -c -O http://cgi2.tky.3wb.ne.jp/~zzh/screen1.JPG</div></pre></td></tr></table></figure>
<h3 id="实例11：使用-r-分块下载"><a href="#实例11：使用-r-分块下载" class="headerlink" title="实例11：使用-r 分块下载"></a>实例11：使用-r 分块下载</h3><p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;比如有一个 <code>http://cgi2.tky.2web.ne.jp/~zzh/zhao1.MP3</code> 要下载。就可以用这样的命令：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">curl -r 0-10240 -o <span class="string">"zhao.part1"</span> http:/cgi2.tky.3web.ne.jp/~zzh/zhao1.MP3 &amp;\</div><div class="line">curl -r 10241-20480 -o <span class="string">"zhao.part1"</span> http:/cgi2.tky.3web.ne.jp/~zzh/zhao1.MP3 &amp;\</div><div class="line">curl -r 20481-40960 -o <span class="string">"zhao.part1"</span> http:/cgi2.tky.3web.ne.jp/~zzh/zhao1.MP3 &amp;\</div><div class="line">curl -r 40961- -o <span class="string">"zhao.part1"</span> http:/cgi2.tky.3web.ne.jp/~zzh/zhao1.MP3</div></pre></td></tr></table></figure>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;这样就可以分块下载了。不过需要自己把这些破碎的文件合并起来，如果用UNIX或者苹果，用 <code>cat zhao.part* &gt; zhao.MP3</code> 就可以了；如果用的windows 用 <code>copy /b</code> 来解决。</p>
<h3 id="实例12：使用FTP协议下载"><a href="#实例12：使用FTP协议下载" class="headerlink" title="实例12：使用FTP协议下载"></a>实例12：使用FTP协议下载</h3><p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;上面都是http协议的下载，其实ftp也一样可以用。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">curl -u name:passwd ftp://ip:port/path/file</div></pre></td></tr></table></figure>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;或者</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">curl ftp://name:passwd@ip:port/path/file</div></pre></td></tr></table></figure>
<h3 id="实例13：使用-T上传"><a href="#实例13：使用-T上传" class="headerlink" title="实例13：使用-T上传"></a>实例13：使用-T上传</h3><h4 id="向ftp传一个文件："><a href="#向ftp传一个文件：" class="headerlink" title="向ftp传一个文件："></a>向ftp传一个文件：</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">curl -T localfile -u name:passwd ftp://upload_site:port/path/</div></pre></td></tr></table></figure>
<h4 id="向http服务器上传文件"><a href="#向http服务器上传文件" class="headerlink" title="向http服务器上传文件"></a>向http服务器上传文件</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">curl -T localfile http://cgi2.tky.3web.ne.jp/~zzh/abc.cgi</div></pre></td></tr></table></figure>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;注意，这个时候，使用协议是HTTP的PUT method</p>
<h3 id="实例14：POST和GET模式"><a href="#实例14：POST和GET模式" class="headerlink" title="实例14：POST和GET模式"></a>实例14：POST和GET模式</h3><p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;说到PUT，自然还有其它几种methos，POST和GET</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">curl http://www.linuxidc.com/login.cgi?user=nickwolfe&amp;password=12345</div></pre></td></tr></table></figure>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;POST模式的option是-d</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">curl -d <span class="string">"user=nickwolfe&amp;password=12345"</span> http://www.linuxidc.com/login.cgi</div></pre></td></tr></table></figure>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;需要注意的是，POST模式下的文件上传，比如一个HTTP表单，要用curl进行模拟，就该是:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">curl -F upload=@localfile -F nick=go http://cgi2.tky.3web.ne.jp/~zzh/up_file.cgi</div></pre></td></tr></table></figure>
<h3 id="实例15：http本地证书"><a href="#实例15：http本地证书" class="headerlink" title="实例15：http本地证书"></a>实例15：http本地证书</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">curl -E localcert.pem https://remote_server</div></pre></td></tr></table></figure>
<h3 id="实例16：使用curl通过dict协议去查字典"><a href="#实例16：使用curl通过dict协议去查字典" class="headerlink" title="实例16：使用curl通过dict协议去查字典"></a>实例16：使用curl通过dict协议去查字典</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">curl dict://dict.org/d:computer</div></pre></td></tr></table></figure>
<h3 id="实例17：获取服务端的信息，比如获取web-Server的类型（apache-nginx）以及版本，php的版本等等"><a href="#实例17：获取服务端的信息，比如获取web-Server的类型（apache-nginx）以及版本，php的版本等等" class="headerlink" title="实例17：获取服务端的信息，比如获取web Server的类型（apache/nginx）以及版本，php的版本等等"></a>实例17：获取服务端的信息，比如获取web Server的类型（apache/nginx）以及版本，php的版本等等</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">curl -i http://example.com/</div></pre></td></tr></table></figure>
<h3 id="实例18：curl指定用户以及密码访问"><a href="#实例18：curl指定用户以及密码访问" class="headerlink" title="实例18：curl指定用户以及密码访问"></a>实例18：curl指定用户以及密码访问</h3><p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;有时候，访问一个网页时是需要认证的，也就是说需要输入正确的用户名以及密码信息，否则会包401的错误</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">curl -u user:password http://www.linuxidc.com/study/</div></pre></td></tr></table></figure>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;这样就可以了</p>
<h3 id="实例19：在linux上使用curl访问网站，指定主机IP"><a href="#实例19：在linux上使用curl访问网站，指定主机IP" class="headerlink" title="实例19：在linux上使用curl访问网站，指定主机IP"></a>实例19：在linux上使用curl访问网站，指定主机IP</h3><p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;在linux的命令窗口下，无法使用浏览器去浏览网站，但是可以用curl访问html代码。有时，为了指定某个域名的IP，需要写hosts，比较费事。可以临时用curl命令指定一个IP</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">curl www.example.com -x192.168.0.111:80</div></pre></td></tr></table></figure>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;用 <code>-x</code> 选项指定主机IP，这种方法类似与IE设置了一个代理服务器。但有时候（访问https时）这样访问不太好用，可以使用：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">curl -H <span class="string">"Host:www.abc.com"</span> https://192.168.0.111/aaa.txt</div></pre></td></tr></table></figure>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Linux命令/">Linux命令</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
      
    
  </div>
  
</article>







  
    <article id="post-2. Linux 命令/56. Linux 命令- ping" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2017/09/03/2. Linux 命令/56. Linux 命令- ping/" class="article-date">
  	<time datetime="2017-09-02T17:57:34.297Z" itemprop="datePublished">2017-09-03</time>
</a>
    </div>
  
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/09/03/2. Linux 命令/56. Linux 命令- ping/">
        Linux 命令- ping
        
      </a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;Linux系统的ping命令是常用的网络命令，它通常用来测试与目标主机的连通性，我们经常会说“ping一下某机器，看是不是开着”、不能打开网页时会说“你先ping网关地址192.168.1.1试试”。它通过发送ICMP ECHO_REQUEST数据包到网络主机（send ICMP ECHO_REQUEST to network hosts），并显示响应情况，这样我们就可以根据它输出的信息来确定目标主机是否可访问（但这不是绝对的）。有些服务器为了防止通过ping探测到，通过防火墙设置了禁止ping或者在内核参数中禁止ping，这样就不能通过ping确定该主机是否还处于开启状态。<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;linux下的ping和windows下的ping稍有区别,linux下ping不会自动终止,需要按ctrl+c终止或者用参数-c指定要求完成的回应次数。</p>
<h2 id="1-命令格式"><a href="#1-命令格式" class="headerlink" title="1.命令格式"></a>1.命令格式</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ping [参数] [主机名或IP地址]</div></pre></td></tr></table></figure>
<h2 id="2-命令功能"><a href="#2-命令功能" class="headerlink" title="2.命令功能"></a>2.命令功能</h2><p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;ping命令用于：确定网络和各外部主机的状态；跟踪和隔离硬件和软件问题；测试、评估和管理网络。如果主机正在运行并连在网上，它就对回送信号进行响应。每个回送信号请求包含一个网际协议（IP）和 ICMP 头，后面紧跟一个 tim 结构，以及来填写这个信息包的足够的字节。缺省情况是连续发送回送信号请求直到接收到中断信号（Ctrl-C)。</p>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;ping 命令每秒发送一个数据报并且为每个接收到的响应打印一行输出。ping 命令计算信号往返时间和(信息)包丢失情况的统计信息，并且在完成之后显示一个简要总结。ping 命令在程序超时或当接收到 SIGINT 信号时结束。Host 参数或者是一个有效的主机名或者是因特网地址。</p>
<h2 id="3-命令参数"><a href="#3-命令参数" class="headerlink" title="3.命令参数"></a>3.命令参数</h2><ul>
<li>-d 使用Socket的SO_DEBUG功能。</li>
<li>-f  极限检测。大量且快速地送网络封包给一台机器，看它的回应。</li>
<li>-n 只输出数值。</li>
<li>-q 不显示任何传送封包的信息，只显示最后的结果。</li>
<li>-r 忽略普通的Routing Table，直接将数据包送到远端主机上。通常是查看本机的网络接口是否有问题。</li>
<li>-R 记录路由过程。</li>
<li>-v 详细显示指令的执行过程。</li>
<li><p>-c 数目：在发送指定数目的包后停止。</p></li>
<li>-i 秒数：设定间隔几秒送一个网络封包给一台机器，预设值是一秒送一次。</li>
<li>-I 网络界面：使用指定的网络界面送出数据包。</li>
<li>-l 前置载入：设置在送出要求信息之前，先行发出的数据包。</li>
<li>-p 范本样式：设置填满数据包的范本样式。</li>
<li>-s 字节数：指定发送的数据字节数，预设值是56，加上8字节的ICMP头，一共是64ICMP数据字节。</li>
<li>-t 存活数值：设置存活数值TTL的大小。</li>
</ul>
<h2 id="4-使用实例"><a href="#4-使用实例" class="headerlink" title="4.使用实例"></a>4.使用实例</h2><h3 id="实例1：ping的通的情况"><a href="#实例1：ping的通的情况" class="headerlink" title="实例1：ping的通的情况"></a>实例1：ping的通的情况</h3><p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>命令</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ping 192.168.120.205</div></pre></td></tr></table></figure>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>输出</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">[root@localhost ~]<span class="comment"># ping 192.168.120.205</span></div><div class="line">PING 192.168.120.205 (192.168.120.205) 56(84) bytes of data.</div><div class="line">64 bytes from 192.168.120.205: icmp_seq=1 ttl=64 time=0.720 ms</div><div class="line">64 bytes from 192.168.120.205: icmp_seq=2 ttl=64 time=0.181 ms</div><div class="line">64 bytes from 192.168.120.205: icmp_seq=3 ttl=64 time=0.191 ms</div><div class="line">64 bytes from 192.168.120.205: icmp_seq=4 ttl=64 time=0.188 ms</div><div class="line">64 bytes from 192.168.120.205: icmp_seq=5 ttl=64 time=0.189 ms</div><div class="line"></div><div class="line">--- 192.168.120.205 ping statistics ---</div><div class="line">5 packets transmitted, 5 received, 0% packet loss, time 4000ms</div><div class="line">rtt min/avg/max/mdev = 0.181/0.293/0.720/0.214 ms</div><div class="line">[root@localhost ~]<span class="comment">#</span></div></pre></td></tr></table></figure>
<h3 id="实例2：ping不通的情况"><a href="#实例2：ping不通的情况" class="headerlink" title="实例2：ping不通的情况"></a>实例2：ping不通的情况</h3><p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>命令</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ping 192.168.120.202</div></pre></td></tr></table></figure>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>输出</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">[root@localhost ~]<span class="comment"># ping 192.168.120.202</span></div><div class="line">PING 192.168.120.202 (192.168.120.202) 56(84) bytes of data.</div><div class="line">From 192.168.120.204 icmp_seq=1 Destination Host Unreachable</div><div class="line">From 192.168.120.204 icmp_seq=2 Destination Host Unreachable</div><div class="line">From 192.168.120.204 icmp_seq=3 Destination Host Unreachable</div><div class="line">From 192.168.120.204 icmp_seq=4 Destination Host Unreachable</div><div class="line">From 192.168.120.204 icmp_seq=5 Destination Host Unreachable</div><div class="line">From 192.168.120.204 icmp_seq=6 Destination Host Unreachable</div><div class="line"></div><div class="line">--- 192.168.120.202 ping statistics ---</div><div class="line">8 packets transmitted, 0 received, +6 errors, 100% packet loss, time 7005ms</div><div class="line">, pipe 4</div><div class="line">[root@localhost ~]<span class="comment">#</span></div></pre></td></tr></table></figure>
<h3 id="实例3：ping网关"><a href="#实例3：ping网关" class="headerlink" title="实例3：ping网关"></a>实例3：ping网关</h3><p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>命令</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ping -b 192.168.120.1</div></pre></td></tr></table></figure>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>输出</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">[root@localhost ~]<span class="comment"># route</span></div><div class="line">Kernel IP routing table</div><div class="line">Destination     Gateway         Genmask         Flags Metric Ref    Use Iface</div><div class="line">192.168.120.0   *               255.255.255.0   U     0      0        0 eth0</div><div class="line">192.168.0.0     192.168.120.1   255.255.0.0     UG    0      0        0 eth0</div><div class="line">10.0.0.0        192.168.120.1   255.0.0.0       UG    0      0        0 eth0</div><div class="line">default         192.168.120.240 0.0.0.0         UG    0      0        0 eth0</div><div class="line">[root@localhost ~]<span class="comment"># ping -b 192.168.120.1</span></div><div class="line">PING 192.168.120.1 (192.168.120.1) 56(84) bytes of data.</div><div class="line">64 bytes from 192.168.120.1: icmp_seq=1 ttl=255 time=2.02 ms</div><div class="line">64 bytes from 192.168.120.1: icmp_seq=2 ttl=255 time=1.83 ms</div><div class="line">64 bytes from 192.168.120.1: icmp_seq=3 ttl=255 time=1.68 ms</div><div class="line">64 bytes from 192.168.120.1: icmp_seq=4 ttl=255 time=1.98 ms</div><div class="line">64 bytes from 192.168.120.1: icmp_seq=5 ttl=255 time=1.88 ms</div><div class="line"></div><div class="line">--- 192.168.120.1 ping statistics ---</div><div class="line">5 packets transmitted, 5 received, 0% packet loss, time 4000ms</div><div class="line">rtt min/avg/max/mdev = 1.682/1.880/2.020/0.129 ms</div></pre></td></tr></table></figure>
<h3 id="实例4：ping指定次数"><a href="#实例4：ping指定次数" class="headerlink" title="实例4：ping指定次数"></a>实例4：ping指定次数</h3><p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>命令</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ping -c 10 192.168.120.206</div></pre></td></tr></table></figure>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>输出</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">[root@localhost ~]<span class="comment"># ping -c 10 192.168.120.206</span></div><div class="line">PING 192.168.120.206 (192.168.120.206) 56(84) bytes of data.</div><div class="line">64 bytes from 192.168.120.206: icmp_seq=1 ttl=64 time=1.25 ms</div><div class="line">64 bytes from 192.168.120.206: icmp_seq=2 ttl=64 time=0.260 ms</div><div class="line">64 bytes from 192.168.120.206: icmp_seq=3 ttl=64 time=0.242 ms</div><div class="line">64 bytes from 192.168.120.206: icmp_seq=4 ttl=64 time=0.271 ms</div><div class="line">64 bytes from 192.168.120.206: icmp_seq=5 ttl=64 time=0.274 ms</div><div class="line">64 bytes from 192.168.120.206: icmp_seq=6 ttl=64 time=0.295 ms</div><div class="line">64 bytes from 192.168.120.206: icmp_seq=7 ttl=64 time=0.269 ms</div><div class="line">64 bytes from 192.168.120.206: icmp_seq=8 ttl=64 time=0.270 ms</div><div class="line">64 bytes from 192.168.120.206: icmp_seq=9 ttl=64 time=0.253 ms</div><div class="line">64 bytes from 192.168.120.206: icmp_seq=10 ttl=64 time=0.289 ms</div><div class="line"></div><div class="line">--- 192.168.120.206 ping statistics ---</div><div class="line">10 packets transmitted, 10 received, 0% packet loss, time 9000ms</div><div class="line">rtt min/avg/max/mdev = 0.242/0.367/1.251/0.295 ms</div><div class="line">[root@localhost ~]<span class="comment">#</span></div></pre></td></tr></table></figure>
<h3 id="实例5：时间间隔和次数限制的ping"><a href="#实例5：时间间隔和次数限制的ping" class="headerlink" title="实例5：时间间隔和次数限制的ping"></a>实例5：时间间隔和次数限制的ping</h3><p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>命令</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ping -c 10 -i 0.5 192.168.120.206</div></pre></td></tr></table></figure>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>输出</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line">[root@localhost ~]<span class="comment"># ping -c 10 -i 0.5 192.168.120.206</span></div><div class="line">PING 192.168.120.206 (192.168.120.206) 56(84) bytes of data.</div><div class="line">64 bytes from 192.168.120.206: icmp_seq=1 ttl=64 time=1.24 ms</div><div class="line">64 bytes from 192.168.120.206: icmp_seq=2 ttl=64 time=0.235 ms</div><div class="line">64 bytes from 192.168.120.206: icmp_seq=3 ttl=64 time=0.244 ms</div><div class="line">64 bytes from 192.168.120.206: icmp_seq=4 ttl=64 time=0.300 ms</div><div class="line">64 bytes from 192.168.120.206: icmp_seq=5 ttl=64 time=0.255 ms</div><div class="line">64 bytes from 192.168.120.206: icmp_seq=6 ttl=64 time=0.264 ms</div><div class="line">64 bytes from 192.168.120.206: icmp_seq=7 ttl=64 time=0.263 ms</div><div class="line">64 bytes from 192.168.120.206: icmp_seq=8 ttl=64 time=0.331 ms</div><div class="line">64 bytes from 192.168.120.206: icmp_seq=9 ttl=64 time=0.247 ms</div><div class="line">64 bytes from 192.168.120.206: icmp_seq=10 ttl=64 time=0.244 ms</div><div class="line"></div><div class="line">--- 192.168.120.206 ping statistics ---</div><div class="line">10 packets transmitted, 10 received, 0% packet loss, time 4499ms</div><div class="line">rtt min/avg/max/mdev = 0.235/0.362/1.241/0.294 ms</div><div class="line">[root@localhost ~]<span class="comment"># ping -c 10 -i 0.01 192.168.120.206</span></div><div class="line">PING 192.168.120.206 (192.168.120.206) 56(84) bytes of data.</div><div class="line">64 bytes from 192.168.120.206: icmp_seq=1 ttl=64 time=0.244 ms</div><div class="line">64 bytes from 192.168.120.206: icmp_seq=2 ttl=64 time=0.195 ms</div><div class="line">64 bytes from 192.168.120.206: icmp_seq=3 ttl=64 time=0.219 ms</div><div class="line">64 bytes from 192.168.120.206: icmp_seq=4 ttl=64 time=0.204 ms</div><div class="line">64 bytes from 192.168.120.206: icmp_seq=5 ttl=64 time=3.56 ms</div><div class="line">64 bytes from 192.168.120.206: icmp_seq=6 ttl=64 time=1.93 ms</div><div class="line">64 bytes from 192.168.120.206: icmp_seq=7 ttl=64 time=0.193 ms</div><div class="line">64 bytes from 192.168.120.206: icmp_seq=8 ttl=64 time=0.193 ms</div><div class="line">64 bytes from 192.168.120.206: icmp_seq=9 ttl=64 time=0.202 ms</div><div class="line">64 bytes from 192.168.120.206: icmp_seq=10 ttl=64 time=0.211 ms</div><div class="line"></div><div class="line">--- 192.168.120.206 ping statistics ---</div><div class="line">10 packets transmitted, 10 received, 0% packet loss, time 90ms</div><div class="line">rtt min/avg/max/mdev = 0.193/0.716/3.564/1.080 ms</div><div class="line">[root@localhost ~]<span class="comment">#</span></div></pre></td></tr></table></figure>
<h3 id="实例6：通过域名ping公网上的站点"><a href="#实例6：通过域名ping公网上的站点" class="headerlink" title="实例6：通过域名ping公网上的站点"></a>实例6：通过域名ping公网上的站点</h3><p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>命令</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ping -c 5 www.58.com</div></pre></td></tr></table></figure>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>输出</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">peida-VirtualBox ~ <span class="comment"># ping -c 5 www.58.com</span></div><div class="line">PING www.58.com (211.151.111.30) 56(84) bytes of data.</div><div class="line">64 bytes from 211.151.111.30: icmp_req=1 ttl=49 time=14.7 ms</div><div class="line">64 bytes from 211.151.111.30: icmp_req=2 ttl=49 time=16.4 ms</div><div class="line">64 bytes from 211.151.111.30: icmp_req=3 ttl=49 time=15.2 ms</div><div class="line">64 bytes from 211.151.111.30: icmp_req=4 ttl=49 time=14.6 ms</div><div class="line">64 bytes from 211.151.111.30: icmp_req=5 ttl=49 time=19.9 ms</div><div class="line"></div><div class="line">--- www.58.com ping statistics ---</div><div class="line">5 packets transmitted, 5 received, 0% packet loss, time 20101ms</div><div class="line">rtt min/avg/max/mdev = 14.618/16.192/19.917/1.965 ms</div><div class="line">peida-VirtualBox ~ <span class="comment">#</span></div></pre></td></tr></table></figure>
<h3 id="实例7：多参数使用"><a href="#实例7：多参数使用" class="headerlink" title="实例7：多参数使用"></a>实例7：多参数使用</h3><p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>命令</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ping -i 3 -s 1024 -t 255 192.168.120.206</div></pre></td></tr></table></figure>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>输出</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line">[root@localhost ~]<span class="comment"># ping -i 3 -s 1024 -t 255 192.168.120.206</span></div><div class="line">PING 192.168.120.206 (192.168.120.206) 1024(1052) bytes of data.</div><div class="line">1032 bytes from 192.168.120.206: icmp_seq=1 ttl=64 time=1.99 ms</div><div class="line">1032 bytes from 192.168.120.206: icmp_seq=2 ttl=64 time=0.694 ms</div><div class="line">1032 bytes from 192.168.120.206: icmp_seq=3 ttl=64 time=0.300 ms</div><div class="line">1032 bytes from 192.168.120.206: icmp_seq=4 ttl=64 time=0.481 ms</div><div class="line">1032 bytes from 192.168.120.206: icmp_seq=5 ttl=64 time=0.415 ms</div><div class="line">1032 bytes from 192.168.120.206: icmp_seq=6 ttl=64 time=0.600 ms</div><div class="line">1032 bytes from 192.168.120.206: icmp_seq=7 ttl=64 time=0.411 ms</div><div class="line">1032 bytes from 192.168.120.206: icmp_seq=8 ttl=64 time=0.281 ms</div><div class="line">1032 bytes from 192.168.120.206: icmp_seq=9 ttl=64 time=0.318 ms</div><div class="line">1032 bytes from 192.168.120.206: icmp_seq=10 ttl=64 time=0.362 ms</div><div class="line">1032 bytes from 192.168.120.206: icmp_seq=11 ttl=64 time=0.408 ms</div><div class="line">1032 bytes from 192.168.120.206: icmp_seq=12 ttl=64 time=0.445 ms</div><div class="line">1032 bytes from 192.168.120.206: icmp_seq=13 ttl=64 time=0.397 ms</div><div class="line">1032 bytes from 192.168.120.206: icmp_seq=14 ttl=64 time=0.406 ms</div><div class="line">1032 bytes from 192.168.120.206: icmp_seq=15 ttl=64 time=0.458 ms</div><div class="line"></div><div class="line">--- 192.168.120.206 ping statistics ---</div><div class="line">15 packets transmitted, 15 received, 0% packet loss, time 41999ms</div><div class="line">rtt min/avg/max/mdev = 0.281/0.531/1.993/0.404 ms</div><div class="line">[root@localhost ~]<span class="comment">#</span></div></pre></td></tr></table></figure>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>说明</strong></p>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;-i 3 发送周期为 3秒 -s 设置发送包的大小为1024 -t 设置TTL值为 255</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Linux命令/">Linux命令</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
      
    
  </div>
  
</article>







  
    <article id="post-2. Linux 命令/51. Linux 命令- at" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2017/09/03/2. Linux 命令/51. Linux 命令- at/" class="article-date">
  	<time datetime="2017-09-02T17:57:34.296Z" itemprop="datePublished">2017-09-03</time>
</a>
    </div>
  
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/09/03/2. Linux 命令/51. Linux 命令- at/">
        Linux 命令- at
        
      </a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;在windows系统中，windows提供了计划任务这一功能，在控制面板 -&gt; 性能与维护 -&gt; 任务计划， 它的功能就是安排自动运行的任务。 通过’添加任务计划’的一步步引导，则可建立一个定时执行的任务。<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;在linux系统中你可能已经发现了为什么系统常常会自动的进行一些任务？这些任务到底是谁在支配他们工作的？在linux系统如果你想要让自己设计的备份程序可以自动在某个时间点开始在系统底下运行，而不需要手动来启动它，又该如何处置呢？ 这些例行的工作可能又分为一次性定时工作与循环定时工作，在系统内又是哪些服务在负责？ 还有，如果你想要每年在老婆的生日前一天就发出一封信件提醒自己不要忘记，linux系统下该怎么做呢？<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;今天我们主要学习一下一次性定时计划任务的at命令的用法！</p>
<h2 id="1．命令格式"><a href="#1．命令格式" class="headerlink" title="1．命令格式"></a>1．命令格式</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">at [参数] [时间]</div></pre></td></tr></table></figure>
<h2 id="2．命令功能"><a href="#2．命令功能" class="headerlink" title="2．命令功能"></a>2．命令功能</h2><p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;在一个指定的时间执行一个指定任务，只能执行一次，且需要开启atd进程（ps -ef | grep atd查看， 开启用/etc/init.d/atd start or restart； 开机即启动则需要运行    chkconfig –level 2345 atd on）。</p>
<h2 id="3．命令参数"><a href="#3．命令参数" class="headerlink" title="3．命令参数"></a>3．命令参数</h2><ul>
<li>-m 当指定的任务被完成之后，将给用户发送邮件，即使没有标准输出</li>
<li>-I atq的别名</li>
<li>-d atrm的别名</li>
<li>-v 显示任务将被执行的时间</li>
<li>-c 打印任务的内容到标准输出</li>
<li>-V 显示版本信息</li>
<li>-q&lt;列队&gt; 使用指定的列队</li>
<li>-f&lt;文件&gt; 从指定文件读入任务而不是从标准输入读入</li>
<li>-t&lt;时间参数&gt; 以时间参数的形式提交要运行的任务 </li>
</ul>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at允许使用一套相当复杂的指定时间的方法。他能够接受在当天的hh:mm（小时:分钟）式的时间指定。假如该时间已过去，那么就放在第二天执行。当然也能够使用midnight（深夜），noon（中午），teatime（饮茶时间，一般是下午4点）等比较模糊的 词语来指定时间。用户还能够采用12小时计时制，即在时间后面加上AM（上午）或PM（下午）来说明是上午还是下午。 也能够指定命令执行的具体日期，指定格式为month day（月 日）或mm/dd/yy（月/日/年）或dd.mm.yy（日.月.年）。指定的日期必须跟在指定时间的后面。 上面介绍的都是绝对计时法，其实还能够使用相对计时法，这对于安排不久就要执行的命令是很有好处的。指定格式为：now + count time-units ，now就是当前时间，time-units是时间单位，这里能够是minutes（分钟）、hours（小时）、days（天）、weeks（星期）。count是时间的数量，究竟是几天，还是几小时，等等。 更有一种计时方法就是直接使用today（今天）、tomorrow（明天）来指定完成命令的时间。</p>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;TIME：时间格式，这里可以定义出什么时候要进行 at 这项任务的时间，格式有：</p>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;HH:MM</p>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;ex&gt; 04:00</p>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;在今日的 HH:MM 时刻进行，若该时刻已超过，则明天的 HH:MM 进行此任务。</p>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;HH:MM YYYY-MM-DD</p>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;ex&gt; 04:00 2009-03-17</p>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;强制规定在某年某月的某一天的特殊时刻进行该项任务</p>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;HH:MM[am|pm] [Month] [Date]</p>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;ex&gt; 04pm March 17</p>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;也是一样，强制在某年某月某日的某时刻进行该项任务</p>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;HH:MM[am|pm] + number [minutes|hours|days|weeks]</p>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;ex&gt; now + 5 minutes</p>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;ex&gt; 04pm + 3 days</p>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;就是说，在某个时间点再加几个时间后才进行该项任务。</p>
<h2 id="4．使用实例"><a href="#4．使用实例" class="headerlink" title="4．使用实例"></a>4．使用实例</h2><h3 id="实例1：三天后的下午-5-点锺执行-bin-ls"><a href="#实例1：三天后的下午-5-点锺执行-bin-ls" class="headerlink" title="实例1：三天后的下午 5 点锺执行 /bin/ls"></a>实例1：三天后的下午 5 点锺执行 /bin/ls</h3><p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>命令</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">at 5pm+3 days</div></pre></td></tr></table></figure>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>输出</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">[root@localhost ~]<span class="comment"># at 5pm+3 days</span></div><div class="line">at&gt; /bin/ls</div><div class="line">at&gt; &lt;EOT&gt;</div><div class="line">job 7 at 2013-01-08 17:00</div><div class="line">[root@localhost ~]<span class="comment">#</span></div></pre></td></tr></table></figure>
<h3 id="实例2：明天17点钟，输出时间到指定文件内"><a href="#实例2：明天17点钟，输出时间到指定文件内" class="headerlink" title="实例2：明天17点钟，输出时间到指定文件内"></a>实例2：明天17点钟，输出时间到指定文件内</h3><p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>命令</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">at 17:20 tomorrow</div></pre></td></tr></table></figure>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>输出</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">[root@localhost ~]<span class="comment"># at 17:20 tomorrow</span></div><div class="line">at&gt; date &gt;/root/2013.log         </div><div class="line">at&gt; &lt;EOT&gt;</div><div class="line">job 8 at 2013-01-06 17:20</div><div class="line">[root@localhost ~]<span class="comment">#</span></div></pre></td></tr></table></figure>
<h3 id="实例3：计划任务设定后，在没有执行之前我们可以用atq命令来查看系统没有执行工作任务"><a href="#实例3：计划任务设定后，在没有执行之前我们可以用atq命令来查看系统没有执行工作任务" class="headerlink" title="实例3：计划任务设定后，在没有执行之前我们可以用atq命令来查看系统没有执行工作任务"></a>实例3：计划任务设定后，在没有执行之前我们可以用atq命令来查看系统没有执行工作任务</h3><p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>命令</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">atq</div></pre></td></tr></table></figure>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>输出</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">[root@localhost ~]<span class="comment"># atq</span></div><div class="line">8       2013-01-06 17:20 a root</div><div class="line">7       2013-01-08 17:00 a root</div><div class="line">[root@localhost ~]<span class="comment">#</span></div></pre></td></tr></table></figure>
<h3 id="实例4：删除已经设置的任务"><a href="#实例4：删除已经设置的任务" class="headerlink" title="实例4：删除已经设置的任务"></a>实例4：删除已经设置的任务</h3><p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>命令</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">atrm 7</div></pre></td></tr></table></figure>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>输出</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">[root@localhost ~]<span class="comment"># atq</span></div><div class="line">8       2013-01-06 17:20 a root</div><div class="line">7       2013-01-08 17:00 a root</div><div class="line">[root@localhost ~]<span class="comment"># atrm 7</span></div><div class="line">[root@localhost ~]<span class="comment"># atq</span></div><div class="line">8       2013-01-06 17:20 a root</div><div class="line">[root@localhost ~]<span class="comment">#</span></div></pre></td></tr></table></figure>
<h3 id="实例5：显示已经设置的任务内容"><a href="#实例5：显示已经设置的任务内容" class="headerlink" title="实例5：显示已经设置的任务内容"></a>实例5：显示已经设置的任务内容</h3><p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>命令</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">at -c 8</div></pre></td></tr></table></figure>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>输出</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">[root@localhost ~]<span class="comment"># at -c 8</span></div><div class="line"><span class="meta">#!/bin/sh</span></div><div class="line"><span class="comment"># atrun uid=0 gid=0</span></div><div class="line"><span class="comment"># mail     root 0</span></div><div class="line"><span class="built_in">umask</span> 22此处省略n个字符</div><div class="line">date &gt;/root/2013.log</div><div class="line">[root@localhost ~]<span class="comment">#</span></div></pre></td></tr></table></figure>
<h2 id="5．atd-的启动与-at-运行的方式："><a href="#5．atd-的启动与-at-运行的方式：" class="headerlink" title="5．atd 的启动与 at 运行的方式："></a>5．atd 的启动与 at 运行的方式：</h2><h3 id="1-atd-的启动"><a href="#1-atd-的启动" class="headerlink" title="1.atd 的启动"></a>1.atd 的启动</h3><p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;要使用一次性计划任务时，我们的 Linux 系统上面必须要有负责这个计划任务的服务，那就是 atd 服务。 不过并非所有的 Linux distributions 都默认会把他打开的，所以，某些时刻我们需要手动将atd 服务激活才行。 激活的方法很简单，就是这样：</p>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>命令</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">/etc/init.d/atd start </div><div class="line">/etc/init.d/atd restart</div></pre></td></tr></table></figure>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>输出</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">[root@localhost /]<span class="comment"># /etc/init.d/atd start</span></div><div class="line">[root@localhost /]<span class="comment"># /etc/init.d/atd </span></div><div class="line">用法：/etc/init.d/atd &#123;start|stop|restart|condrestart|status&#125;</div><div class="line">[root@localhost /]<span class="comment"># /etc/init.d/atd stop</span></div><div class="line">停止 atd：[确定]</div><div class="line">[root@localhost /]<span class="comment"># ps -ef|grep atd</span></div><div class="line">root     25062 24951  0 14:53 pts/0    00:00:00 grep atd</div><div class="line">[root@localhost /]<span class="comment"># /etc/init.d/atd start</span></div><div class="line">[确定]td：[确定]</div><div class="line">[root@localhost /]<span class="comment"># ps -ef|grep atd</span></div><div class="line">root     25068     1  0 14:53 ?        00:00:00 /usr/sbin/atd</div><div class="line">root     25071 24951  0 14:53 pts/0    00:00:00 grep atd</div><div class="line">[root@localhost /]<span class="comment"># /etc/init.d/atd restart</span></div><div class="line">停止 atd：[确定]</div><div class="line">[确定]td：[确定]</div><div class="line">[root@localhost /]<span class="comment">#</span></div></pre></td></tr></table></figure>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>说明</strong></p>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;/etc/init.d/atd start 没有启动的时候，直接启动atd服务</p>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;/etc/init.d/atd restart 服务已经启动后，重启 atd 服务</p>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>备注：配置一下启动时就启动这个服务，免得每次重新启动都得再来一次</strong></p>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>命令</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">chkconfig atd on</div></pre></td></tr></table></figure>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>输出</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">[root@localhost /]<span class="comment"># chkconfig atd on</span></div><div class="line">[root@localhost /]<span class="comment">#</span></div></pre></td></tr></table></figure>
<h3 id="2-at-的运行方式"><a href="#2-at-的运行方式" class="headerlink" title="2. at 的运行方式"></a>2. at 的运行方式</h3><p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;既然是计划任务，那么应该会有任务执行的方式，并且将这些任务排进行程表中。那么产生计划任务的方式是怎么进行的? 事实上，我们使用 at 这个命令来产生所要运行的计划任务，并将这个计划任务以文字档的方式写入 /var/spool/at/ 目录内，该工作便能等待 atd 这个服务的取用与运行了。就这么简单。</p>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;不过，并不是所有的人都可以进行 at 计划任务。为什么? 因为系统安全的原因。很多主机被所谓的攻击破解后，最常发现的就是他们的系统当中多了很多的黑客程序， 这些程序非常可能运用一些计划任务来运行或搜集你的系统运行信息,并定时的发送给黑客。 所以，除非是你认可的帐号，否则先不要让他们使用 at 命令。那怎么达到使用 at 的可控呢? </p>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;我们可以利用 /etc/at.allow 与 /etc/at.deny 这两个文件来进行 at 的使用限制。加上这两个文件后， at 的工作情况是这样的：</p>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;先找寻 /etc/at.allow 这个文件，写在这个文件中的使用者才能使用 at ，没有在这个文件中的使用者则不能使用 at (即使没有写在 at.deny 当中);</p>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;如果 /etc/at.allow 不存在，就寻找 /etc/at.deny 这个文件，若写在这个 at.deny 的使用者则不能使用 at ，而没有在这个 at.deny 文件中的使用者，就可以使用 at 命令了。</p>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;如果两个文件都不存在，那么只有 root 可以使用 at 这个命令。</p>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;透过这个说明，我们知道 /etc/at.allow 是管理较为严格的方式，而 /etc/at.deny 则较为松散 (因为帐号没有在该文件中，就能够运行 at 了)。在一般的 distributions 当中，由于假设系统上的所有用户都是可信任的， 因此系统通常会保留一个空的 /etc/at.deny 文件，意思是允许所有人使用 at 命令的意思 (您可以自行检查一下该文件)。 不过，万一你不希望有某些使用者使用 at 的话，将那个使用者的帐号写入 /etc/at.deny 即可！ 一个帐号写一行。</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Linux命令/">Linux命令</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
      
    
  </div>
  
</article>







  
    <article id="post-2. Linux 命令/12. Linux 命令- more" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2017/09/03/2. Linux 命令/12. Linux 命令- more/" class="article-date">
  	<time datetime="2017-09-02T17:57:34.295Z" itemprop="datePublished">2017-09-03</time>
</a>
    </div>
  
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/09/03/2. Linux 命令/12. Linux 命令- more/">
        Linux 命令- more
        
      </a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;more命令，功能类似 cat ，cat命令是整个文件的内容从上到下显示在屏幕上。 more会以一页一页的显示方便使用者逐页阅读，而最基本的指令就是按空白键（space）就往下一页显示，按 b 键就会往回（back）一页显示，而且还有搜寻字串的功能 。more命令从前向后读取文件，因此在启动时就加载整个文件。</p>
<h2 id="1．命令格式"><a href="#1．命令格式" class="headerlink" title="1．命令格式"></a>1．命令格式</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">more [-dlfpcsu ] [-num ] [+/ pattern] [+ linenum] [file ... ]</div></pre></td></tr></table></figure>
<h2 id="2．命令功能"><a href="#2．命令功能" class="headerlink" title="2．命令功能"></a>2．命令功能</h2><p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;more命令和cat的功能一样都是查看文件里的内容，但有所不同的是more可以按页来查看文件的内容，还支持直接跳转行等功能。</p>
<h2 id="3．命令参数"><a href="#3．命令参数" class="headerlink" title="3．命令参数"></a>3．命令参数</h2><ul>
<li>+n 从笫n行开始显示</li>
<li>定义屏幕大小为n行</li>
<li>+/pattern 在每个档案显示前搜寻该字串（pattern），然后从该字串前两行之后开始显示  </li>
<li>-c 从顶部清屏，然后显示</li>
<li>-d 提示“Press space to continue，’q’ to quit（按空格键继续，按q键退出）”，禁用响铃功能</li>
<li>-l 忽略Ctrl+l（换页）字符</li>
<li>-p 通过清除窗口而不是滚屏来对文件进行换页，与-c选项相似</li>
<li>-s 把连续的多个空行显示为一行</li>
<li>-u 把文件内容中的下画线去掉</li>
</ul>
<h2 id="4．常用操作命令："><a href="#4．常用操作命令：" class="headerlink" title="4．常用操作命令："></a>4．常用操作命令：</h2><ul>
<li>Enter 向下n行，需要定义。默认为1行</li>
<li>Ctrl+F 向下滚动一屏</li>
<li>空格键 向下滚动一屏</li>
<li>Ctrl+B 返回上一屏</li>
<li>=  输出当前行的行号</li>
<li>：f 输出文件名和当前行的行号</li>
<li>V  调用vi编辑器</li>
<li>!命令 调用Shell，并执行命令 </li>
<li>q  退出more</li>
</ul>
<h2 id="5．命令实例："><a href="#5．命令实例：" class="headerlink" title="5．命令实例："></a>5．命令实例：</h2><h3 id="实例1：显示文件中从第3行起的内容"><a href="#实例1：显示文件中从第3行起的内容" class="headerlink" title="实例1：显示文件中从第3行起的内容"></a>实例1：显示文件中从第3行起的内容</h3><p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>命令：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">more +3 log2012.log</div></pre></td></tr></table></figure>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>输出：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">[root@localhost <span class="built_in">test</span>]<span class="comment"># cat log2012.log </span></div><div class="line">2012-01</div><div class="line">2012-02</div><div class="line">2012-03</div><div class="line">2012-04-day1</div><div class="line">2012-04-day2</div><div class="line">2012-04-day3</div><div class="line">======</div><div class="line">[root@localhost <span class="built_in">test</span>]<span class="comment"># more +3 log2012.log </span></div><div class="line">2012-03</div><div class="line">2012-04-day1</div><div class="line">2012-04-day2</div><div class="line">2012-04-day3</div><div class="line">======</div><div class="line">[root@localhost <span class="built_in">test</span>]<span class="comment">#</span></div></pre></td></tr></table></figure>
<h3 id="实例2：从文件中查找第一个出现”day3”字符串的行，并从该处前两行开始显示输出"><a href="#实例2：从文件中查找第一个出现”day3”字符串的行，并从该处前两行开始显示输出" class="headerlink" title="实例2：从文件中查找第一个出现”day3”字符串的行，并从该处前两行开始显示输出"></a>实例2：从文件中查找第一个出现”day3”字符串的行，并从该处前两行开始显示输出</h3><p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>命令：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">more +/day3 log2012.log</div></pre></td></tr></table></figure>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>输出：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">[root@localhost <span class="built_in">test</span>]<span class="comment"># more +/day3 log2012.log </span></div><div class="line">...skipping</div><div class="line">2012-04-day1</div><div class="line">2012-04-day2</div><div class="line">2012-04-day3</div><div class="line">2012-05</div><div class="line">2012-05-day1</div><div class="line">======[root@localhost <span class="built_in">test</span>]<span class="comment">#</span></div></pre></td></tr></table></figure>
<h3 id="实例3：设定每屏显示行数"><a href="#实例3：设定每屏显示行数" class="headerlink" title="实例3：设定每屏显示行数"></a>实例3：设定每屏显示行数</h3><p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>命令：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">more -5 log2012.log</div></pre></td></tr></table></figure>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>输出：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">[root@localhost <span class="built_in">test</span>]<span class="comment"># more -5 log2012.log </span></div><div class="line">2012-01</div><div class="line">2012-02</div><div class="line">2012-03</div><div class="line">2012-04-day1</div><div class="line">2012-04-day2</div></pre></td></tr></table></figure>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>说明：</strong></p>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;最下面显示了该屏展示的内容占文件总行数的比例，按 Ctrl+F 或者 空格键 将会显示下一屏5条内容，百分比也会跟着变化。      </p>
<h3 id="实例4：列一个目录下的文件，由于内容太多，我们应该学会用more来分页显示。这得和管道-结合起来"><a href="#实例4：列一个目录下的文件，由于内容太多，我们应该学会用more来分页显示。这得和管道-结合起来" class="headerlink" title="实例4：列一个目录下的文件，由于内容太多，我们应该学会用more来分页显示。这得和管道 | 结合起来"></a>实例4：列一个目录下的文件，由于内容太多，我们应该学会用more来分页显示。这得和管道 | 结合起来</h3><p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>命令：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ls -l  | more -5</div></pre></td></tr></table></figure>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>输出：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">[root@localhost <span class="built_in">test</span>]<span class="comment">#  ls -l  | more -5</span></div><div class="line">总计 36</div><div class="line">-rw-r--r-- 1 root root  308 11-01 16:49 log2012.log</div><div class="line">-rw-r--r-- 1 root root   33 10-28 16:54 log2013.log</div><div class="line">-rw-r--r-- 1 root root  127 10-28 16:51 log2014.log</div><div class="line">lrwxrwxrwx 1 root root    7 10-28 15:18 log_link.log -&gt; log.log</div><div class="line">-rw-r--r-- 1 root root   25 10-28 17:02 log.log</div><div class="line">-rw-r--r-- 1 root root   37 10-28 17:07 log.txt</div><div class="line">drwxr-xr-x 6 root root 4096 10-27 01:58 scf</div><div class="line">drwxrwxrwx 2 root root 4096 10-28 14:47 test3</div><div class="line">drwxrwxrwx 2 root root 4096 10-28 14:47 test4</div></pre></td></tr></table></figure>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>说明：</strong></p>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;每页显示5个文件信息，按 Ctrl+F 或者 空格键 将会显示下5条文件信息。</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Linux命令/">Linux命令</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
      
    
  </div>
  
</article>







  
    <article id="post-2. Linux 命令/4. Linux 命令-pwd" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2017/09/03/2. Linux 命令/4. Linux 命令-pwd/" class="article-date">
  	<time datetime="2017-09-02T17:57:34.295Z" itemprop="datePublished">2017-09-03</time>
</a>
    </div>
  
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/09/03/2. Linux 命令/4. Linux 命令-pwd/">
        Linux 命令- pwd
        
      </a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;Linux中用 pwd 命令来查看”当前工作目录“的完整路径。 简单得说，每当你在终端进行操作时，你都会有一个当前工作目录。 在不太确定当前位置时，就会使用pwd来判定当前目录在文件系统内的确切位置。      </p>
<h2 id="1．命令格式："><a href="#1．命令格式：" class="headerlink" title="1．命令格式："></a>1．命令格式：</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">pwd</span> [选项]</div></pre></td></tr></table></figure>
<h2 id="2．命令功能："><a href="#2．命令功能：" class="headerlink" title="2．命令功能："></a>2．命令功能：</h2><p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;查看”当前工作目录“的完整路径</p>
<h2 id="3．常用参数："><a href="#3．常用参数：" class="headerlink" title="3．常用参数："></a>3．常用参数：</h2><ul>
<li>一般情况下不带任何参数 </li>
<li>如果目录是链接时：格式：pwd -P  显示出实际路径，而非使用连接（link）路径。</li>
</ul>
<h2 id="4．常用实例："><a href="#4．常用实例：" class="headerlink" title="4．常用实例："></a>4．常用实例：</h2><h3 id="实例1：用-pwd-命令查看默认工作目录的完整路径"><a href="#实例1：用-pwd-命令查看默认工作目录的完整路径" class="headerlink" title="实例1：用 pwd 命令查看默认工作目录的完整路径"></a>实例1：用 pwd 命令查看默认工作目录的完整路径</h3><p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>命令：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">pwd</span></div></pre></td></tr></table></figure>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>输出：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">[root@localhost ~]<span class="comment"># pwd</span></div><div class="line">/root</div><div class="line">[root@localhost ~]<span class="comment">#</span></div></pre></td></tr></table></figure>
<h3 id="实例2：使用-pwd-命令查看指定文件夹"><a href="#实例2：使用-pwd-命令查看指定文件夹" class="headerlink" title="实例2：使用 pwd 命令查看指定文件夹"></a>实例2：使用 pwd 命令查看指定文件夹</h3><p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>命令：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">pwd</span></div></pre></td></tr></table></figure>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>输出：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">[root@localhost ~]<span class="comment"># cd /opt/soft/</span></div><div class="line">[root@localhost soft]<span class="comment"># pwd </span></div><div class="line">/opt/soft</div><div class="line">[root@localhost soft]<span class="comment">#</span></div></pre></td></tr></table></figure>
<h3 id="实例3：目录连接链接时，pwd-P-显示出实际路径，而非使用连接（link）路径；pwd显示的是连接路径"><a href="#实例3：目录连接链接时，pwd-P-显示出实际路径，而非使用连接（link）路径；pwd显示的是连接路径" class="headerlink" title="实例3：目录连接链接时，pwd -P  显示出实际路径，而非使用连接（link）路径；pwd显示的是连接路径"></a>实例3：目录连接链接时，pwd -P  显示出实际路径，而非使用连接（link）路径；pwd显示的是连接路径</h3><p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>命令：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">pwd</span> -P</div></pre></td></tr></table></figure>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>输出：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">[root@localhost soft]<span class="comment"># cd /etc/init.d </span></div><div class="line">[root@localhost init.d]<span class="comment"># pwd</span></div><div class="line">/etc/init.d</div><div class="line">[root@localhost init.d]<span class="comment"># pwd -P</span></div><div class="line">/etc/rc.d/init.d</div><div class="line">[root@localhost init.d]<span class="comment">#</span></div></pre></td></tr></table></figure>
<h3 id="实例4：-bin-pwd"><a href="#实例4：-bin-pwd" class="headerlink" title="实例4：/bin/pwd"></a>实例4：/bin/pwd</h3><p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>命令：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">/bin/<span class="built_in">pwd</span> [选项]</div></pre></td></tr></table></figure>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;选项：</p>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<code>-L 目录连接链接</code>时，输出连接路径</p>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<code>-P 输出物理路径</code></p>
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>输出：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">[root@localhost init.d]<span class="comment"># /bin/pwd </span></div><div class="line">/etc/rc.d/init.d</div><div class="line">[root@localhost init.d]<span class="comment"># /bin/pwd --help</span></div><div class="line">[root@localhost init.d]<span class="comment"># /bin/pwd -P</span></div><div class="line">/etc/rc.d/init.d</div><div class="line">[root@localhost init.d]<span class="comment"># /bin/pwd -L</span></div><div class="line">/etc/init.d</div><div class="line">[root@localhost init.d]<span class="comment">#</span></div></pre></td></tr></table></figure>
<h3 id="实例5：当前目录被删除了，而pwd命令仍然显示那个目录"><a href="#实例5：当前目录被删除了，而pwd命令仍然显示那个目录" class="headerlink" title="实例5：当前目录被删除了，而pwd命令仍然显示那个目录"></a>实例5：当前目录被删除了，而pwd命令仍然显示那个目录</h3><p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>输出：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">[root@localhost init.d]<span class="comment"># cd /opt/soft</span></div><div class="line">[root@localhost soft]<span class="comment"># mkdir removed</span></div><div class="line">[root@localhost soft]<span class="comment"># cd removed/</span></div><div class="line">[root@localhost removed]<span class="comment"># pwd</span></div><div class="line">/opt/soft/removed</div><div class="line">[root@localhost removed]<span class="comment"># rm ../removed -rf</span></div><div class="line">[root@localhost removed]<span class="comment"># pwd</span></div><div class="line">/opt/soft/removed</div><div class="line">[root@localhost removed]<span class="comment"># /bin/pwd</span></div><div class="line">/bin/<span class="built_in">pwd</span>: couldn<span class="string">'t find directory entry in “..” with matching i-node</span></div><div class="line"><span class="string">[root@localhost removed]# cd </span></div><div class="line"><span class="string">[root@localhost ~]# pwd</span></div><div class="line"><span class="string">/root</span></div><div class="line"><span class="string">[root@localhost ~]#</span></div></pre></td></tr></table></figure>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Linux命令/">Linux命令</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
      
    
  </div>
  
</article>







  
  
    <nav id="page-nav">
      <a class="extend prev" rel="prev" href="/page/41/">&laquo; Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/40/">40</a><a class="page-number" href="/page/41/">41</a><span class="page-number current">42</span><a class="page-number" href="/page/43/">43</a><a class="page-number" href="/page/44/">44</a><span class="space">&hellip;</span><a class="page-number" href="/page/63/">63</a><a class="extend next" rel="next" href="/page/43/">Next &raquo;</a>
    </nav>
  
</div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
      <div class="footer-left">
        &copy; 2017 失落的乐章
      </div>
        <div class="footer-right">
          <a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/smackgg/hexo-theme-smackdown" target="_blank">Smackdown</a>
        </div>
    </div>
  </div>
</footer>
    </div>
    

<script>
	var yiliaConfig = {
		fancybox: ,
		mathjax: ,
		animate: true,
		isHome: true,
		isPost: false,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false
	}
</script>
<script src="/js/main.js"></script>



  </div>
</body>
</html>